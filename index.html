<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lộ Trình Học Tương Tác</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Calm Harmony (Slate, White, Blue Accent) -->
    <!-- Application Structure Plan: Designed a filter-based SPA. Users interact via Age/Subject buttons. A JS function filters a data array and toggles card visibility. Each card visualizes a course's 12-part curriculum as a responsive HTML/CSS timeline. This is more usable and responsive than the original wide table, allowing users to "query" the curriculum. Now includes a dynamic modal for deep-dive into each Level's 12 lessons. -->
    <!-- Visualization & Content Choices: 1. Report Info (Table Rows) -> Goal: Organize/Inform -> Viz: Course Cards (HTML/Tailwind) -> Interaction: JS Filter (Show/Hide). 2. Report Info (12-part curriculum) -> Goal: Show Process/Change -> Viz: 12-step Timeline (HTML/Tailwind) -> Interaction: Click on Level to open Modal (New Feature). 3. Level Details (New Data) -> Goal: Deep Inform -> Viz: Modal with structured list and image placeholders -> Interaction: Close button. 4. Report Info (Tech names) -> Goal: Inform (Summary) -> Viz: Horizontal Bar Chart (Chart.js/Canvas) -> Interaction: Tooltip. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 500px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 500px; }
        }
        .filter-btn {
            transition: all 0.3s ease;
        }
        .filter-btn.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(66, 153, 225, 0.5);
        }
        .timeline-step {
            flex: 1 1 0;
            min-width: 100px;
            padding: 8px;
            border-right: 2px dashed #e2e8f0;
            cursor: pointer; /* Add pointer for interaction */
            transition: background-color 0.2s;
        }
        .timeline-step:hover {
            background-color: #f1f5f9;
        }
        .timeline-step:last-child {
            border-right: none;
        }
        .timeline-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: #cbd5e1 #f1f5f9;
        }
        .timeline-container::-webkit-scrollbar {
            height: 8px;
        }
        .timeline-container::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }
        .timeline-container::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 10px;
            border: 2px solid #f1f5f9;
        }
        /* Style cho age markers container */
        .age-markers-container {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .age-label {
            display: inline-flex;
            align-items: center;
            background-color: #f8fafc;
            padding: 0.5rem 1rem;
            font-weight: 600;
            color: #334155;
            border-top: 3px solid;
            border-bottom: 3px solid;
            border-color: inherit;
        }
        
        .color-group-1 { border-color: #fcd34d; background-color: #fef9c3; } /* Mầm non */
        .color-group-2 { border-color: #fca5a5; background-color: #fee2e2; } /* Lập trình Cấp 1 */
        .color-group-3 { border-color: #93c5fd; background-color: #dbeafe; } /* Robot Cấp 1 */
        .color-group-4 { border-color: #86efac; background-color: #d1fae5; } /* 3D Cấp 1 */
        .color-group-5 { border-color: #fca5a5; background-color: #fee2e2; } /* Lập trình Cấp 2 */
        .color-group-6 { border-color: #67e8f9; background-color: #cffafe; } /* Robot Cấp 2 */
        .color-group-7 { border-color: #e9d5ff; background-color: #f3e8ff; } /* AI */
        .color-group-8 { border-color: #a78bfa; background-color: #ede9fe; } /* 3D Cấp 2 */

        .timeline-header-1 { border-color: #fcd34d; }
        .timeline-header-2 { border-color: #fca5a5; }
        .timeline-header-3 { border-color: #93c5fd; }
        .timeline-header-4 { border-color: #86efac; }
        .timeline-header-5 { border-color: #fca5a5; }
        .timeline-header-6 { border-color: #67e8f9; }
        .timeline-header-7 { border-color: #e9d5ff; } /* AI */
        .timeline-header-8 { border-color: #a78bfa; } /* 3D Cấp 2 */
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <header class="bg-white shadow-md">
        <div class="container mx-auto px-6 py-6 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-700">Lộ Trình Học Kỹ Thuật Số</h1>
            <p class="text-slate-600 mt-2 text-lg">Khám phá các chương trình học lập trình, robot và thiết kế.</p>
        </div>
    </header>

    <nav class="container mx-auto px-6 py-4 sticky top-0 bg-slate-100 z-10 shadow-sm">
        <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
            <div class_id="age-filters" class="flex flex-wrap justify-center gap-2">
                <span class="font-semibold self-center pr-2">Chọn độ tuổi:</span>
                <button data-filter-type="age" data-filter-value="all" class="filter-btn active bg-blue-600 text-white px-4 py-2 rounded-full shadow-md text-sm font-medium">Tất cả độ tuổi</button>
                <button data-filter-type="age" data-filter-value="5-7" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Mầm non (5-7)</button>
                <button data-filter-type="age" data-filter-value="7-11" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Cấp 1 (7-11)</button>
                <button data-filter-type="age" data-filter-value="12-15" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Cấp 2 (12-15)</button>
            </div>
            
            <div id="subject-filters" class="flex flex-wrap justify-center gap-2">
                <span class="font-semibold self-center pr-2">Lĩnh vực:</span>
                <button data-filter-type="subject" data-filter-value="all" class="filter-btn active bg-blue-600 text-white px-4 py-2 rounded-full shadow-md text-sm font-medium">Tất cả</button>
                <button data-filter-type="subject" data-filter-value="Lập trình" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Lập trình (Tổng hợp)</button>
                <button data-filter-type="subject" data-filter-value="Lập trình Web" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Lập trình Web</button>
                <button data-filter-type="subject" data-filter-value="Lập trình Game" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Lập trình Game</button>
                <button data-filter-type="subject" data-filter-value="Lập trình App" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Lập trình App</button>
                <button data-filter-type="subject" data-filter-value="Robot" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Robot</button>
                <button data-filter-type="subject" data-filter-value="3D" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">3D & Đa phương tiện</button>
                <button data-filter-type="subject" data-filter-value="AI" class="filter-btn bg-white text-slate-700 px-4 py-2 rounded-full shadow text-sm font-medium">Trí tuệ Nhân tạo (AI)</button>
            </div>
        </div>
    </nav>

    <main id="courses-container" class="container mx-auto px-4 sm:px-6 py-8 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 md:gap-8">
    </main>
    
    <section class="container mx-auto px-6 py-12">
        <div class="bg-white p-6 rounded-2xl shadow-xl">
            <h2 class="text-2xl font-bold text-center mb-6 text-blue-700">Phân Tích Công Nghệ Trong Chương Trình Học</h2>
            <p class="text-center text-slate-600 mb-8">Biểu đồ này thống kê số lượng học phần có sử dụng các công nghệ và phần mềm phổ biến trong toàn bộ lộ trình học. Điều này giúp bạn có cái nhìn tổng quan về các kỹ năng cốt lõi mà học viên sẽ được tiếp cận.</p>
            <div class="chart-container">
                <canvas id="techChart"></canvas>
            </div>
        </div>
    </section>

    <footer class="text-center py-8 text-slate-500 text-sm">
        <p>Ứng dụng tương tác được tạo từ dữ liệu chương trình học.</p>
    </footer>

    <!-- MODAL HIỂN THỊ CHI TIẾT LEVEL -->
    <div id="detailModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4" onclick="closeModal(event)">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
            <div class="sticky top-0 bg-white p-6 border-b border-slate-200 flex justify-between items-center">
                <h3 id="modalTitle" class="text-2xl font-bold text-blue-700">Chi tiết Level</h3>
                <button onclick="closeModal()" class="text-slate-500 hover:text-slate-800 transition">
                    <span class="text-2xl">&times;</span>
                </button>
            </div>
            <div id="modalContent" class="p-6">
                <!-- Nội dung chi tiết các bài học sẽ được chèn vào đây -->
            </div>
        </div>
    </div>
    <!-- KẾT THÚC MODAL -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const lessonData = [
                // Dữ liệu chi tiết cho Level 1 của khóa Mầm non công nghệ (ID 1, Level 1) - 12 bài đầy đủ
                {
                    courseId: 1, levelUnit: 1, title: "Level 1: Khám phá thế giới",
                    lessons: [
                        { 
                            name: "Bài 1: Làm quen với giao diện",
                            objective: "Nhận biết các khu vực làm việc cơ bản.",
                            description: "Giới thiệu môi trường lập trình kéo thả đơn giản (Block-based).",
                            image: "https://placehold.co/400x200/c7f0db/0e7490?text=Giao+diện+Block",
                            productLink: "https://ibb.co/cS6VzcLK",
                            lessonPlanLink: "https://docs.google.com/document/d/1bJEtQI_0w9abdzn7U2mVLL3HiyrD0uM1DwpyumxPioU/edit?tab=t.0",
                            slideLink: "https://gamma.app/docs/Grade5-Tiet1-Lam-quen-voi-Pictoblox-az6nfkcm97snxnx?mode=doc",
                            quizLink: "https://wayground.com/admin/quiz/690050a9be8fee62bf7fa9fc"
                        },
                        { 
                            name: "Bài 2: Điều khiển nhân vật", 
                            objective: "Học cách di chuyển và dừng lại.", 
                            description: "Sử dụng các khối lệnh di chuyển cơ bản: tiến, lùi, xoay.", 
                            image: "https://placehold.co/400x200/fecaca/9f1239?text=Lệnh+di+chuyển",
                            productLink: "https://www.google.com/",
                            lessonPlanLink: "https://www.google.com/",
                            slideLink: "https://www.google.com/",
                            quizLink: "https://www.google.com/"
                        },
                        { 
                            name: "Bài 3: Màu sắc và Hình khối", 
                            objective: "Phân biệt các màu sắc chính và hình dạng.", 
                            description: "Tạo các đối tượng có màu sắc và hình dạng khác nhau.", 
                            image: "https://placehold.co/400x200/bfdbfe/1d4ed8?text=Hình+khối+cơ+bản",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 4: Lặp lại hành động", 
                            objective: "Hiểu khái niệm vòng lặp cơ bản.", 
                            description: "Sử dụng khối lệnh lặp để tiết kiệm thời gian và tạo chuyển động tuần hoàn.", 
                            image: "https://placehold.co/400x200/fef08a/a16207?text=Khối+lệnh+Loop",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 5: Lập trình âm thanh", 
                            objective: "Tạo hiệu ứng âm thanh cho các hành động.", 
                            description: "Gán âm thanh cho nhân vật khi di chuyển hoặc chạm đối tượng.", 
                            image: "https://placehold.co/400x200/d8b4fe/6b21a8?text=Hiệu+ứng+Sound",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 6: Xử lý sự kiện (Events)", 
                            objective: "Hiểu mối quan hệ nguyên nhân - kết quả.", 
                            description: "Lập trình để nhân vật phản ứng khi có sự kiện (nhấp chuột, chạm).", 
                            image: "https://placehold.co/400x200/a7f3d0/047857?text=Khối+lệnh+Event",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 7: Lập trình đối thoại", 
                            objective: "Sử dụng các khối lệnh hiển thị văn bản.", 
                            description: "Tạo các đoạn hội thoại đơn giản giữa các nhân vật.", 
                            image: "https://placehold.co/400x200/fecdd3/e11d48?text=Tạo+Dialogue",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 8: Vẽ bằng code", 
                            objective: "Sử dụng khối bút vẽ để tạo hình họa.", 
                            description: "Vẽ các đường nét và hình học đơn giản thông qua code.", 
                            image: "https://placehold.co/400x200/fdba74/c2410c?text=Vẽ+Pen",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 9: Tương tác chạm", 
                            objective: "Phát hiện va chạm giữa hai đối tượng.", 
                            description: "Lập trình phản ứng khi hai nhân vật chạm vào nhau.", 
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Va+chạm+Collision",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 10: Xây dựng bối cảnh", 
                            objective: "Thiết kế phông nền và môi trường game.", 
                            description: "Sử dụng công cụ vẽ để tạo bối cảnh cho câu chuyện.", 
                            image: "https://placehold.co/400x200/f5d0fe/701a75?text=Thiết+kế+Background",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 11: Dự án Game nhỏ", 
                            objective: "Tổng hợp kiến thức để tạo sản phẩm.", 
                            description: "Hoàn thiện một trò chơi đơn giản với cốt truyện.", 
                            image: "https://placehold.co/400x200/fca5a5/7f1d1d?text=Game+mini+Project",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bài 12: Kể chuyện lập trình", 
                            objective: "Trình bày câu chuyện của mình trước lớp.", 
                            description: "Phát triển kỹ năng thuyết trình về sản phẩm đã tạo.", 
                            image: "https://placehold.co/400x200/d9f99d/3f6212?text=Thuyết+trình+Story",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        }
                    ]
                },
                // Dữ liệu chi tiết cho Level 4 của khóa Bé làm Game (ID 2, Level 4) - 12 bài đầy đủ
                {
                    courseId: 2, levelUnit: 4, title: "Level 4: Tinker - Lập trình cơ bản",
                    levelObjective: "Củng cố tư duy lập trình cơ bản: biến, điều kiện và vòng lặp qua dự án nhỏ.",
                    productLink: "https://www.google.com/",
                    lessonPlanLink: "https://www.google.com/",
                    slideLink: "https://www.google.com/",
                    quizLink: "https://www.google.com/",
                    lessons: [
                        { name: "Bài 1: Khái niệm về Biến (Variables)", objective: "Làm quen với việc lưu trữ dữ liệu tạm thời.", description: "Sử dụng biến để tính điểm, đếm thời gian trong trò chơi.", image: "https://placehold.co/400x200/fee2e2/991b1b?text=Biến+số+Variables" },
                        { name: "Bài 2: Cấu trúc điều kiện IF/ELSE", objective: "Hiểu logic nếu/thì cơ bản.", description: "Tạo ra các quyết định đơn giản trong game, ví dụ: nếu hết máu thì game over.", image: "https://placehold.co/400x200/dbeafe/2563eb?text=Điều+kiện+Logic" },
                        { name: "Bài 3: Vòng lặp nâng cao (FOR/WHILE)", objective: "Làm chủ các loại vòng lặp khác nhau.", description: "Sử dụng vòng lặp để tạo ra các đối tượng hàng loạt hoặc hoạt ảnh phức tạp.", image: "https://placehold.co/400x200/f0f9ff/0e7490?text=Vòng+lặp+For" },
                        { name: "Bài 4: Xử lý Dữ liệu Chuỗi (Strings)", objective: "Thao tác với văn bản và tin nhắn.", description: "Ứng dụng trong việc tạo tên nhân vật, tin nhắn trò chơi.", image: "https://placehold.co/400x200/fefce8/a16207?text=Xử+lý+Text" },
                        { name: "Bài 5: Nhận diện giọng nói/âm thanh AI", objective: "Tích hợp tính năng nhận dạng giọng nói AI.", description: "Điều khiển nhân vật bằng lệnh thoại đơn giản.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Nhận+dạng+Speech" },
                        { name: "Bài 6: Xử lý Dữ liệu Lớn (Lists)", objective: "Học cách quản lý danh sách vật phẩm/đạn dược.", description: "Sử dụng danh sách để lưu trữ nhiều thông tin có cấu trúc.", image: "https://placehold.co/400x200/a5f3fc/0d9488?text=Quản+lý+List" },
                        { name: "Bài 7: Thiết kế Đồ họa Vector (Tinker)", objective: "Tạo nhân vật và đối tượng chuyên nghiệp hơn.", description: "Sử dụng công cụ vẽ vector tích hợp để thiết kế game.", image: "https://placehold.co/400x200/fce7f3/be185d?text=Thiết+kế+Vector" },
                        { name: "Bài 8: Xây dựng Màn chơi (Scenes)", objective: "Phân chia trò chơi thành nhiều màn hình.", description: "Tạo các cấp độ khác nhau và chuyển đổi giữa chúng.", image: "https://placehold.co/400x200/fff7ed/ea580c?text=Quản+lý+Scene" },
                        { name: "Bài 9: Tạo Game chạy đua 2 người", objective: "Ứng dụng kiến thức để tạo game có luật chơi phức tạp hơn.", description: "Lập trình logic cho hai người chơi tương tác trên cùng một màn hình.", image: "https://placehold.co/400x200/d1fae5/047857?text=Game+Multiplayer" },
                        { name: "Bài 10: Tối ưu hiệu suất Game", objective: "Giúp trò chơi chạy mượt mà hơn.", description: "Tìm và sửa các lỗi làm chậm tốc độ xử lý.", image: "https://placehold.co/400x200/e0f2f1/0f766e?text=Tối+ưu+Code" },
                        { name: "Bài 11: Debugging và Testing", objective: "Tìm lỗi và kiểm thử chức năng game.", description: "Sử dụng các công cụ gỡ lỗi để đảm bảo game hoạt động chính xác.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Gỡ+lỗi+Debug" },
                        { name: "Bài 12: Hoàn thiện Game và Chia sẻ", objective: "Xuất bản và giới thiệu sản phẩm.", description: "Hướng dẫn đóng gói game và chia sẻ với bạn bè/cộng đồng.", image: "https://placehold.co/400x200/bfdbfe/1d4ed8?text=Chia+sẻ+Game" }
                    ]
                },
                // Chi tiết đầy đủ cho các Level khác của Game Creator Lab (courseId:2)
                {
                    courseId: 2, levelUnit: 1, title: "Level 1: Làm quen với Scratch",
                    levelObjective: "Hiểu khái niệm lập trình kéo-thả, khởi tạo project và điều khiển nhân vật đơn giản.",
                    productLink: "https://ibb.co/cS6VzcLK",
                    lessonPlanLink: "https://docs.google.com/document/d/1bJEtQI_0w9abdzn7U2mVLL3HiyrD0uM1DwpyumxPioU/edit?tab=t.0",
                    slideLink: "https://gamma.app/docs/Grade5-Tiet1-Lam-quen-voi-Pictoblox-az6nfkcm97snxnx?mode=doc",
                    quizLink: "https://wayground.com/admin/quiz/690050a9be8fee62bf7fa9fc",
                    lessons: [
                        { 
                            name: "Bài 1: Giao diện Scratch", 
                            objective: "Làm quen với stage, sprites và blocks.", 
                            description: "Khám phá các khu vực chính của Scratch, thêm sprite đầu tiên.", 
                            image: "https://placehold.co/400x200/c7f0db/0e7490?text=Scratch+UI",
                            productLink: "https://www.google.com/",
                            lessonPlanLink: "https://www.google.com/",
                            slideLink: "https://www.google.com/",
                            quizLink: "https://www.google.com/"
                        },
                        {    
                            name: "Bài 2: Di chuyển cơ bản",
                            objective: "Điều khiển sprite với block di chuyển.",
                            description: "Sử dụng các block di chuyển để làm sprite đi tới, lùi, quay.",
                            image: "https://placehold.co/400x200/fecaca/9f1239?text=Move",
                            productLink: "https://www.google.com/",
                            lessonPlanLink: "https://www.google.com/",
                            slideLink: "https://www.google.com/",
                            quizLink: "https://www.google.com/"

                        },
                        { name: "Bài 3: Sự kiện khi nhấp", objective: "Lắng nghe click và bắt sự kiện.", description: "Sử dụng block 'when this sprite clicked' để tạo tương tác.", image: "https://placehold.co/400x200/bfdbfe/1d4ed8?text=Event" },
                        { name: "Bài 4: Thay đổi hình dáng", objective: "Sử dụng costumes để đổi diện mạo sprite.", description: "Thêm costumes, animate đơn giản bằng đổi costume.", image: "https://placehold.co/400x200/fef08a/a16207?text=Costumes" },
                        { name: "Bài 5: Âm thanh cơ bản", objective: "Thêm và điều khiển âm thanh trong project.", description: "Gán sound khi click hoặc khi chạm đối tượng.", image: "https://placehold.co/400x200/d8b4fe/6b21a8?text=Sound" },
                        { name: "Bài 6: Thực hành: hoạt hình ngắn", objective: "Tạo hoạt cảnh ngắn dùng chuyển động và âm thanh.", description: "Áp dụng các block đã học để làm hoạt cảnh ngắn.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Animation" },
                        { name: "Bài 7: Lập trình điều khiển bằng phím", objective: "Điều khiển sprite bằng bàn phím.", description: "Sử dụng event key pressed để điều khiển nhân vật.", image: "https://placehold.co/400x200/fecdd3/e11d48?text=Keyboard" },
                        { name: "Bài 8: Mini-project: Thử thách đầu tiên", objective: "Làm game đơn giản cho sprite di chuyển và thu thập đồ vật.", description: "Tổng hợp kiến thức để tạo game mini cơ bản.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Mini+Game" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 2, title: "Level 2: Biến và điều kiện trong Scratch",
                    levelObjective: "Hiểu và áp dụng biến, điều kiện và phép so sánh để thay đổi hành vi.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Giới thiệu biến", objective: "Tạo và sử dụng biến để lưu điểm số.", description: "Thực hành tạo biến global/local và cập nhật giá trị.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Variable" },
                        { name: "Bài 2: Điều kiện IF", objective: "Sử dụng if/else để ra quyết định trong game.", description: "Tạo logic: nếu chạm vật thì cộng điểm.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=If+Else" },
                        { name: "Bài 3: So sánh và logic", objective: "Sử dụng toán tử so sánh và logical operators.", description: "Ghép điều kiện phức tạp để kiểm soát luồng.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Logic" },
                        { name: "Bài 4: Thêm HUD điểm", objective: "Hiển thị điểm và cập nhật thời gian.", description: "Tạo label điểm và timer trên màn hình.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=HUD" },
                        { name: "Bài 5: Điều kiện lồng nhau", objective: "Áp dụng điều kiện lồng để xử lý nhiều trạng thái.", description: "Xử lý tình huống multi-branch trong game.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Nested" },
                        { name: "Bài 6: Lỗi thường gặp và fix", objective: "Nhận diện lỗi logic và sửa.", description: "Debug scripts và in ra giá trị để kiểm tra.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Debug" },
                        { name: "Bài 7: Thực hành: game thu thập điểm", objective: "Tạo game collect-and-score đơn giản.", description: "Tổng hợp biến và điều kiện để làm game.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Collect" },
                        { name: "Bài 8: Bài tập nâng cao", objective: "Tạo biến nhiều loại và dùng chúng cho mechanics.", description: "Áp dụng biến cho health, lives, power-ups.", image: "https://placehold.co/400x200/f5d0fe/701a75?text=Advanced" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 3, title: "Level 3: Âm thanh và tương tác nâng cao",
                    levelObjective: "Thêm âm thanh, hiệu ứng và xử lý va chạm để tăng trải nghiệm.",
                    productLink: "https://ibb.co/cS6VzcLK",
                    lessonPlanLink: "https://docs.google.com/document/d/1bJEtQI_0w9abdzn7U2mVLL3HiyrD0uM1DwpyumxPioU/edit?tab=t.0",
                    slideLink: "https://gamma.app/docs/Grade5-Tiet1-Lam-quen-voi-Pictoblox-az6nfkcm97snxnx?mode=doc",
                    quizLink: "https://wayground.com/admin/quiz/690050a9be8fee62bf7fa9fc",
                    lessons: [
                        { name: "Bài 1: Âm thanh và SFX", objective: "Gán âm thanh cho hành động và sự kiện.", description: "Chèn sound assets và trigger khi event xảy ra.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Audio" },
                        { name: "Bài 2: Va chạm và phản ứng", objective: "Phát hiện collision và xử lý hậu quả.", description: "Sử dụng sensing blocks để phát hiện chạm.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Collision" },
                        { name: "Bài 3: Hiệu ứng hình ảnh", objective: "Tạo hiệu ứng chuyển đổi và animation cho sprites.", description: "Sử dụng ghosts, effects và costumes để animate.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Effects" },
                        { name: "Bài 4: Tương tác với nền (background)", objective: "Thay đổi background theo trạng thái game.", description: "Thiết kế nhiều background và chuyển đổi theo level.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Background" },
                        { name: "Bài 5: Trigger zones", objective: "Tạo vùng kích hoạt sự kiện trong scene.", description: "Sử dụng detection để bắt player vào trigger zone.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Trigger" },
                        { name: "Bài 6: Tối ưu performance project", objective: "Giảm tải script và tối ưu resource.", description: "Quản lý clones và sprites hiệu quả.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Perf" },
                        { name: "Bài 7: Mini-challenge: Reaction game", objective: "Tạo game phản xạ dùng âm thanh và hiệu ứng.", description: "Thử nghiệm sự kiện ngẫu nhiên và scoring.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Reaction" },
                        { name: "Bài 8: Tổng kết Level 3", objective: "Lập một project nhỏ áp dụng các hiệu ứng đã học.", description: "Hoàn thiện một demo nhỏ có âm thanh và hiệu ứng.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Demo" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 5, title: "Level 5: Giới thiệu AI và tư duy máy học cơ bản",
                    levelObjective: "Nhập môn khái niệm AI đơn giản: phân loại hình ảnh và ứng dụng trong Scratch/Blockly.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Khái niệm AI cơ bản", objective: "Hiểu ý tưởng supervised learning và classification.", description: "Giải thích đơn giản về dữ liệu, nhãn và mô hình.", image: "https://placehold.co/400x200/fefce8/a16207?text=AI+Intro" },
                        { name: "Bài 2: Ứng dụng nhận diện màu", objective: "Tạo chương trình phản ứng với màu sắc.", description: "Sử dụng camera/mô phỏng input để phân loại màu.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Color" },
                        { name: "Bài 3: Decision tree đơn giản", objective: "Sử dụng logic phân nhánh để mô phỏng phân loại.", description: "Làm mô hình phân loại đơn giản bằng if/else chaining.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=DT" },
                        { name: "Bài 4: Tích hợp module AI (nếu có)", objective: "Kết nối với module nhận dạng đơn giản (như PictoBlox).", description: "Dùng plugin hoặc extension để thử nhận diện vật thể.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Module" },
                        { name: "Bài 5: Thu thập dữ liệu mẫu", objective: "Tạo dataset nhỏ để huấn luyện ý tưởng.", description: "Ghi nhận ví dụ và thử phân loại thủ công.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Dataset" },
                        { name: "Bài 6: Kiểm thử và đánh giá", objective: "Đo lường độ chính xác của mô phỏng.", description: "So sánh kết quả và tinh chỉnh rule-based model.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Eval" },
                        { name: "Bài 7: Dự án nhỏ AI", objective: "Tạo ứng dụng tương tác sử dụng ý tưởng AI.", description: "Ví dụ: game phân loại vật để ghi điểm.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=AI+Project" },
                        { name: "Bài 8: Tóm tắt và mở rộng", objective: "Kết luận và gợi ý học tiếp sâu hơn.", description: "Tài nguyên để học tiếp các khái niệm ML cơ bản.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Next" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 6, title: "Level 6: Tương tác với phần cứng & Micro:Bit (giới thiệu)",
                    levelObjective: "Làm quen với việc kết nối game với thiết bị micro:bit hoặc cảm biến cơ bản.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Giới thiệu Micro:Bit", objective: "Hiểu cách giao tiếp giữa micro:bit và máy tính.", description: "Cách kết nối, flash và đọc dữ liệu cơ bản.", image: "https://placehold.co/400x200/fef08a/a16207?text=Microbit" },
                        { name: "Bài 2: Gửi dữ liệu sensor vào game", objective: "Dùng input từ cảm biến để điều khiển game.", description: "Lấy data đơn giản và dùng để thay đổi gameplay.", image: "https://placehold.co/400x200/d8b4fe/6b21a8?text=Sensor" },
                        { name: "Bài 3: Hiển thị dữ liệu lên GUI", objective: "Trực quan hóa dữ liệu sensor lên màn hình.", description: "Vẽ value, gauge hoặc text hiển thị.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Display" },
                        { name: "Bài 4: Event từ phần cứng", objective: "Xử lý nút nhấn và sự kiện trên thiết bị.", description: "Bắt sự kiện button và gửi vào game.", image: "https://placehold.co/400x200/fecdd3/e11d48?text=Hardware+Event" },
                        { name: "Bài 5: Mini-project IoT simple", objective: "Kết nối 1 cảm biến để điều khiển object trong game.", description: "Ví dụ: điều khiển vật bằng gia tốc kế.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=IoT+Mini" },
                        { name: "Bài 6: Safety & permissions", objective: "Quản lý quyền truy cập phần cứng và an toàn.", description: "Thực hành an toàn khi kết nối phần cứng.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Safety" },
                        { name: "Bài 7: Thực hành tích hợp", objective: "Tích hợp phần cứng vào 1 game nhỏ.", description: "Tạo project dùng sensor để điều khiển mechanics.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Integrate" },
                        { name: "Bài 8: Tổng kết Level 6", objective: "Đánh giá và mở rộng ứng dụng phần cứng.", description: "Gợi ý bài tập nâng cao và tài nguyên.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Wrapup" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 7, title: "Level 7: Dự án nâng cao (Thiết kế level)",
                    levelObjective: "Thiết kế và triển khai một level hoàn chỉnh có mechanics, thử thách và phần thưởng.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Lên ý tưởng và wireframe level", objective: "Thiết kế flow chơi và thử thách chính.", description: "Phác thảo mechanics, enemies, goals.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Design" },
                        { name: "Bài 2: Tạo obstacles và hazards", objective: "Xây dựng chướng ngại vật với logic kill/lose.", description: "Thiết kế hazards và checkpoint.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Obstacles" },
                        { name: "Bài 3: Điểm checkpoint và save progress", objective: "Thêm checkpoint để người chơi tiếp tục.", description: "Quản lý respawn và lưu state tạm.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Checkpoint" },
                        { name: "Bài 4: Thử thách thời gian", objective: "Thiết kế thử thách có giới hạn thời gian.", description: "Tạo timer và rewards theo performance.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Timer" },
                        { name: "Bài 5: Boss/Enemy đơn giản", objective: "Quy hoạch kẻ thù với hành vi cơ bản.", description: "Scripting enemy AI đơn giản cho boss.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Enemy" },
                        { name: "Bài 6: Balancing và playtest", objective: "Tinh chỉnh độ khó và trải nghiệm.", description: "Thu thập feedback và chỉnh difficulty.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Balance" },
                        { name: "Bài 7: UI level hoàn thiện", objective: "Thêm UI hướng dẫn và feedback cho người chơi.", description: "Cải thiện HUD, instructions và notifications.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Level+UI" },
                        { name: "Bài 8: Dự án: Level hoàn chỉnh", objective: "Hoàn thiện và trình bày level trước lớp.", description: "Xuất bản demo và thu thập ý kiến.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Final+Level" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 8, title: "Level 8: Lập trình Game 2D nâng cao",
                    levelObjective: "Áp dụng vật lý đơn giản, animation và mechanics nâng cao cho game 2D.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Collision layers & group", objective: "Quản lý va chạm theo nhóm đối tượng.", description: "Phân loại collisions và xử lý phản ứng.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Collision+Group" },
                        { name: "Bài 2: Parallax background", objective: "Tạo hiệu ứng nền chuyển động sâu.", description: "Thiết kế nhiều lớp background và di chuyển với tốc độ khác nhau.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Parallax" },
                        { name: "Bài 3: Animation states", objective: "Quản lý trạng thái animation của sprite.", description: "Tạo state machine đơn giản cho animation.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Anim+State" },
                        { name: "Bài 4: Power-ups và timers", objective: "Thiết kế power-ups tạm thời cho người chơi.", description: "Implement buff duration và UI indicators.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Powerup" },
                        { name: "Bài 5: Level progression", objective: "Xây hệ thống unlock các màn chơi sau khi hoàn thành.", description: "Quản lý progression và unlock criteria.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Progression" },
                        { name: "Bài 6: Pause & Save state", objective: "Cho phép pause và lưu trạng thái tạm.", description: "Thiết kế menu pause và save slots.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Pause" },
                        { name: "Bài 7: Optimization for mobile", objective: "Tối ưu game 2D cho thiết bị di động.", description: "Giảm resource và cải thiện performance.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Mobile+Opt" },
                        { name: "Bài 8: Mini-project 2D advanced", objective: "Hoàn thiện game 2D sử dụng cơ chế nâng cao.", description: "Áp dụng mọi thứ để tạo game 2D hoàn chỉnh.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=2D+Project" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 9, title: "Level 9: Giới thiệu Python cơ bản cho game",
                    levelObjective: "Làm quen với Python qua kịch bản đơn giản để hiểu ngôn ngữ lập trình text-based.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Python syntax cơ bản", objective: "Hello world, biến và in ra màn hình.", description: "Làm quen với indent và cấu trúc Python.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Python+Intro" },
                        { name: "Bài 2: Hàm và module", objective: "Đóng gói logic bằng hàm và import module.", description: "Tạo hàm, import và tái sử dụng code.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Functions" },
                        { name: "Bài 3: List và dict", objective: "Sử dụng cấu trúc dữ liệu để quản lý data.", description: "Áp dụng list, dict cho inventory hoặc trạng thái game.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=List+Dict" },
                        { name: "Bài 4: File IO cơ bản", objective: "Đọc/ghi file để lưu cấu hình hoặc điểm số.", description: "Lưu score vào file local (demo).", image: "https://placehold.co/400x200/99f6e4/0891b2?text=FileIO" },
                        { name: "Bài 5: Tương tác với game engine (giới thiệu)", objective: "Khái niệm về scripting bằng Python trong môi trường hỗ trợ.", description: "Giới thiệu cách Python có thể tích hợp cho tools hoặc backend.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Engine" },
                        { name: "Bài 6: Debugging Python", objective: "Sử dụng print và traceback để gỡ lỗi.", description: "Kỹ thuật debug cơ bản trên Python.", image: "https://placehold.co/400x200/fef9c3/a16207?text=DebugPy" },
                        { name: "Bài 7: Mini-script ứng dụng", objective: "Tạo script ứng dụng quản lý data game.", description: "Viết một script nhỏ quản lý leaderboard.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Script" },
                        { name: "Bài 8: Kết nối ý tưởng với game", objective: "Cầu nối kiến thức Python sang phát triển game nâng cao.", description: "Gợi ý các bước học tiếp để dùng Python cho backend hoặc tools.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Bridge" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 10, title: "Level 10: Dự án nhóm và agile basics",
                    levelObjective: "Học làm việc nhóm, chia tasks và vận hành theo sprint nhỏ để hoàn thiện sản phẩm.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Phân vai và task", objective: "Chia nhóm, phân công tasks rõ ràng.", description: "Quy trình làm việc nhóm và quản lý task đơn giản.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Team" },
                        { name: "Bài 2: Sprint planning", objective: "Lên kế hoạch sprint và chia milestone.", description: "Tạo backlog và chọn scope cho sprint.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Sprint" },
                        { name: "Bài 3: Version control basics", objective: "Giới thiệu Git/Share code cơ bản.", description: "Lưu code và asset, hướng dẫn cách chia sẻ project.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Git" },
                        { name: "Bài 4: Integration testing", objective: "Kiểm tra tích hợp giữa phần UI và gameplay.", description: "Test các module khi ghép lại.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Integration" },
                        { name: "Bài 5: Playtest & feedback loop", objective: "Thu thập ý kiến và cải tiến sản phẩm.", description: "Quy trình playtest và collect feedback.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Feedback" },
                        { name: "Bài 6: Deployment basics", objective: "Đưa demo ra môi trường thử nghiệm.", description: "Chuẩn bị build và chia sẻ với tester.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Deploy" },
                        { name: "Bài 7: Retrospective", objective: "Học cách làm retrospective để rút kinh nghiệm.", description: "Tổ chức buổi review sau sprint.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Retro" },
                        { name: "Bài 8: Project milestone demo", objective: "Trình diễn kết quả sprint trước nhóm/giáo viên.", description: "Chuẩn bị nội dung demo và báo cáo.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Demo" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 11, title: "Level 11: Tối ưu và triển khai",
                    levelObjective: "Tối ưu hiệu suất, fix bug và chuẩn bị để ra mắt bản thử nghiệm.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Profiling cơ bản", objective: "Dùng công cụ để tìm bottleneck.", description: "Phân tích performance và tối ưu.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Profile" },
                        { name: "Bài 2: Memory & asset management", objective: "Quản lý asset và bộ nhớ hiệu quả.", description: "Giảm texture size và tối ưu asset.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Assets" },
                        { name: "Bài 3: Fixing common bugs", objective: "Quy trình tìm và sửa lỗi thường gặp.", description: "Checklist debug và unit testing cơ bản.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Fix" },
                        { name: "Bài 4: Packaging & build", objective: "Chuẩn bị build/pack cho release.", description: "Export project và chuẩn bị release notes.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Build" },
                        { name: "Bài 5: Beta testing", objective: "Tổ chức beta test và collect metrics.", description: "Phương pháp chọn tester và thu thập dữ liệu.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Beta" },
                        { name: "Bài 6: Hotfix workflow", objective: "Quy trình phát hành hotfix nhanh.", description: "Chuẩn bị patch và deploy nhanh.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Hotfix" },
                        { name: "Bài 7: Metrics & analytics", objective: "Theo dõi retention và engagement.", description: "Thiết lập tracking cơ bản và đọc dữ liệu.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Metrics" },
                        { name: "Bài 8: Release checklist", objective: "Danh sách kiểm tra trước khi phát hành.", description: "Các bước cuối cùng để đảm bảo release an toàn.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Release" }
                    ]
                },
                {
                    courseId: 2, levelUnit: 12, title: "Level 12: Dự án hoàn chỉnh & Showcase",
                    levelObjective: "Hoàn thiện dự án cuối khóa, chuẩn bị cho buổi trình diễn và phản hồi.",
                    productLink: "",
                    lessonPlanLink: "",
                    slideLink: "",
                    quizLink: "",
                    lessons: [
                        { name: "Bài 1: Lên kế hoạch dự án cuối", objective: "Xác định scope và nhiệm vụ cho dự án cuối.", description: "Lập kế hoạch, phân công và milestones.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Plan" },
                        { name: "Bài 2: Phát triển tính năng chính", objective: "Thực thi các tính năng cốt lõi của dự án.", description: "Lập trình các mechanics chính và test.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Feature" },
                        { name: "Bài 3: UI/UX polishing", objective: "Tốt hóa giao diện và trải nghiệm.", description: "Cải thiện menu, HUD và onboarding.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=UX" },
                        { name: "Bài 4: Testing & QA", objective: "Chuẩn bị bộ test và sửa lỗi.", description: "Chạy checklist và ghi nhận bug.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=QA" },
                        { name: "Bài 5: Chuẩn bị trình diễn", objective: "Thiết lập demo và slides để trình bày.", description: "Tạo tài liệu trình diễn và video demo.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Pitch" },
                        { name: "Bài 6: Trình diễn trước lớp", objective: "Trình bày sản phẩm và nhận phản hồi.", description: "Thực hiện demo và thu góp ý kiến.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Showcase" },
                        { name: "Bài 7: Học từ phản hồi", objective: "Phân tích feedback và lên kế hoạch cải tiến.", description: "Xác định các điểm cần cải thiện cho phiên bản tiếp theo.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Feedback" },
                        { name: "Bài 8: Bước tiếp theo cho học viên", objective: "Gợi ý con đường học tiếp và tài nguyên mở rộng.", description: "Tài liệu, khóa học nâng cao và cơ hội thực hành.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Next+Steps" }
                    ]
                },
                // Dữ liệu chi tiết cho Level 7 của khóa Lập trình Web & UI/UX (ID 5, Level 7) - 12 bài đầy đủ
                {
                    courseId: 5, levelUnit: 7, title: "Level 7: Dự án Web tĩnh",
                    lessons: [
                        { name: "Bài 1: Thiết kế wireframe cuối cùng (Figma)", objective: "Hoàn thiện bản nháp giao diện trên Figma.", description: "Sử dụng các công cụ Figma nâng cao để tối ưu UX.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Figma+Wireframe" },
                        { name: "Bài 2: Cấu trúc hóa HTML5 Semantic", objective: "Sử dụng các thẻ semantic mới nhất.", description: "Xây dựng khung xương cho dự án web với cấu trúc rõ ràng.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=HTML5+Semantic" },
                        { name: "Bài 3: CSS Grid và Flexbox", objective: "Thiết lập layout đa cột và căn chỉnh linh hoạt.", description: "Sử dụng CSS hiện đại để xây dựng bố cục trang.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=CSS+Layout" },
                        { name: "Bài 4: Tối ưu Responsive Design (Tailwind)", objective: "Đảm bảo trang web hiển thị tốt trên mọi thiết bị.", description: "Áp dụng các breakpoint của Tailwind để tạo giao diện responsive.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Responsive+Design" },
                        { name: "Bài 5: Typography và Color Palette", objective: "Chọn phông chữ và bảng màu phù hợp.", description: "Sử dụng các lớp Tailwind để quản lý văn bản và màu sắc.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Thiết+kế+Font" },
                        { name: "Bài 6: Xây dựng Header và Navigation", objective: "Tạo thanh điều hướng cố định và menu.", description: "Thiết kế menu dạng hamburger cho thiết bị di động.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Menu+Navigation" },
                        { name: "Bài 7: Section Hero và Call-to-Action", objective: "Thiết kế phần mở đầu ấn tượng.", description: "Sử dụng hình ảnh, tiêu đề lớn và nút kêu gọi hành động.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Hero+Section" },
                        { name: "Bài 8: Cards và Galleries", objective: "Trình bày nội dung dưới dạng thẻ và bộ sưu tập.", description: "Sử dụng Grid để sắp xếp các thẻ sản phẩm hoặc dịch vụ.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Card+UI" },
                        { name: "Bài 9: Forms và Inputs", objective: "Thiết kế các biểu mẫu nhập liệu thân thiện.", description: "Áp dụng Tailwind cho kiểu dáng của các trường nhập và nút gửi.", image: "https://placehold.co/400x200/f5d0fe/701a75?text=Form+Design" },
                        { name: "Bài 10: Tích hợp Icon và Biểu tượng", objective: "Sử dụng các thư viện icon (Font Awesome/Lucide).", description: "Cải thiện tính thẩm mỹ và dễ hiểu bằng các biểu tượng.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Tích+hợp+Icon" },
                        { name: "Bài 11: Footer và Thông tin liên hệ", objective: "Thiết kế phần chân trang chuyên nghiệp.", description: "Bao gồm bản đồ, liên kết xã hội và thông tin bản quyền.", image: "https://placehold.co/400x200/ffe4e6/be185d?text=Footer+Design" },
                        { name: "Bài 12: Tối ưu SEO cơ bản", objective: "Hiểu các thẻ meta quan trọng.", description: "Thêm `title`, `description`, và `favicon` cho trang web.", image: "https://placehold.co/400x200/c7f0db/0e7490?text=SEO+cơ+bản" }
                    ]
                },
                // Thêm các bài học mẫu cho khóa AI Cấp 2 (ID 9, Level 5) - 12 bài đầy đủ
                {
                    courseId: 9, levelUnit: 5, title: "Level 5: Tạo mô hình Machine Learning",
                    lessons: [
                        { name: "Bài 1: Chuẩn bị và làm sạch dữ liệu (Pandas)", objective: "Xử lý dữ liệu thô (missing data, normalization).", description: "Sử dụng Pandas để chuẩn hóa tập dữ liệu và xử lý giá trị thiếu.", image: "https://placehold.co/400x200/fefce8/a16207?text=Xử+lý+Dữ+liệu" },
                        { name: "Bài 2: Giới thiệu các thuật toán ML cơ bản", objective: "Nắm vững Regression, Classification, Clustering.", description: "Phân biệt khi nào nên sử dụng từng loại thuật toán (ví dụ: Linear Regression).", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Thuật+toán+ML" },
                        { name: "Bài 3: Phân chia tập dữ liệu", objective: "Hiểu Train/Test Split để đánh giá mô hình.", description: "Sử dụng Scikit-learn để chia dữ liệu thành tập huấn luyện và kiểm thử.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Train+Test+Split" },
                        { name: "Bài 4: Huấn luyện mô hình đơn giản (Scikit-learn)", objective: "Sử dụng thư viện Scikit-learn.", description: "Tạo mô hình dự đoán đầu tiên và đánh giá độ chính xác cơ bản.", image: "https://placehold.co/400x200/bfdbfe/1d4ed8?text=Huấn+luyện+Model" },
                        { name: "Bài 5: Các chỉ số đánh giá (Metrics)", objective: "Hiểu Accuracy, Precision, Recall, F1-Score.", description: "Phân tích hiệu suất của mô hình bằng các chỉ số thống kê.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Đánh+giá+Model" },
                        { name: "Bài 6: Kỹ thuật Cross-Validation", objective: "Đánh giá độ ổn định và tránh Overfitting.", description: "Sử dụng K-Fold Cross-Validation để kiểm tra mô hình.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Cross+Validation" },
                        { name: "Bài 7: Tinh chỉnh Hyperparameters (Grid Search)", objective: "Tối ưu hóa hiệu suất mô hình.", description: "Sử dụng Grid Search để tìm ra các tham số tốt nhất.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Hyperparameters" },
                        { name: "Bài 8: Giới thiệu mô hình Ensemble (Random Forest)", objective: "Sử dụng các mô hình phức tạp hơn.", description: "Làm quen với Random Forest để cải thiện dự đoán.", image: "https://placehold.co/400x200/ffe4e6/be185d?text=Random+Forest" },
                        { name: "Bài 9: Xử lý dữ liệu văn bản (Vectorization)", objective: "Chuẩn bị dữ liệu phi cấu trúc cho ML.", description: "Sử dụng TF-IDF hoặc Bag-of-Words.", image: "https://placehold.co/400x200/f5d0fe/701a75?text=Vectorization" },
                        { name: "Bài 10: Xây dựng mô hình phân loại văn bản", objective: "Áp dụng ML cho các ứng dụng NLP.", description: "Tạo mô hình phân loại tin nhắn spam.", image: "https://placehold.co/400x200/c7f0db/0e7490?text=Phân+loại+Text" },
                        { name: "Bài 11: Trực quan hóa kết quả ML", objective: "Sử dụng Matplotlib/Seaborn.", description: "Vẽ biểu đồ Confusion Matrix để đánh giá mô hình.", image: "https://placehold.co/400x200/d8b4fe/6b21a8?text=Trực+quan+ML" },
                        { name: "Bài 12: Lưu trữ và Tải mô hình", objective: "Sử dụng Pickle hoặc Joblib để triển khai.", description: "Lưu mô hình đã huấn luyện để sử dụng lại sau này.", image: "https://placehold.co/400x200/a5f3fc/0d9488?text=Lưu+Model" }
                    ]
                },
                // Thêm các bài học mẫu cho Robot Cấp 2 (ID 6, Level 11) - 12 bài đầy đủ
                {
                    courseId: 6, levelUnit: 11, title: "Level 11: Ứng dụng IoT với Node-RED, Pico W",
                    lessons: [
                        { name: "Bài 1: Cấu hình Pico W và Wi-Fi", objective: "Thiết lập kết nối Internet cho mạch Pico W.", description: "Nạp firmware MicroPython và thiết lập kết nối Wi-Fi.", image: "https://placehold.co/400x200/fee2e2/991b1b?text=Pico+W+Setup" },
                        { name: "Bài 2: Giới thiệu Node-RED", objective: "Làm quen với môi trường lập trình luồng (flow-based).", description: "Cài đặt và hiểu các node cơ bản của Node-RED.", image: "https://placehold.co/400x200/dbeafe/2563eb?text=Node+RED+Flow" },
                        { name: "Bài 3: Gửi dữ liệu cảm biến lên Cloud (MQTT)", objective: "Học cách truyền dữ liệu cảm biến qua MQTT/HTTP.", description: "Sử dụng Pico W để đọc nhiệt độ và gửi lên broker MQTT.", image: "https://placehold.co/400x200/fefce8/a16207?text=Gửi+MQTT" },
                        { name: "Bài 4: Tạo Dashboard cơ bản", objective: "Tạo giao diện điều khiển trên web.", description: "Sử dụng Node-RED Dashboard để hiển thị giá trị cảm biến.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Dashboard+IoT" },
                        { name: "Bài 5: Điều khiển thiết bị từ xa", objective: "Sử dụng nút bấm trên Dashboard để điều khiển Pico W.", description: "Gửi lệnh qua MQTT từ Dashboard để bật/tắt đèn LED trên Pico W.", image: "https://placehold.co/400x200/fce7f3/be185d?text=Điều+khiển+Remote" },
                        { name: "Bài 6: Xử lý logic trên Node-RED", objective: "Sử dụng node Function để viết JavaScript.", description: "Tạo các quy tắc tự động hóa đơn giản (ví dụ: nhiệt độ cao tự bật quạt).", image: "https://placehold.co/400x200/f9fafb/374151?text=Node+Function" },
                        { name: "Bài 7: Tích hợp API thời tiết", objective: "Lấy dữ liệu từ các dịch vụ web bên ngoài.", description: "Sử dụng node HTTP Request để lấy thông tin thời tiết địa phương.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=API+Thời+tiết" },
                        { name: "Bài 8: Gửi thông báo qua Email/Telegram", objective: "Phát triển tính năng cảnh báo.", description: "Cấu hình Node-RED để gửi email cảnh báo khi cảm biến có giá trị bất thường.", image: "https://placehold.co/400x200/a5f3fc/0d9488?text=Gửi+Notification" },
                        { name: "Bài 9: Lưu trữ dữ liệu vào Database", objective: "Sử dụng Node-RED để kết nối với SQLite/MongoDB.", description: "Lưu trữ dữ liệu cảm biến liên tục vào cơ sở dữ liệu.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Lưu+Database" },
                        { name: "Bài 10: Xây dựng Hệ thống giám sát", objective: "Tổng hợp các kiến thức IoT đã học.", description: "Tạo một giao diện Dashboard hoàn chỉnh để giám sát nhà thông minh.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Hệ+thống+giám+sát" },
                        { name: "Bài 11: Tối ưu bảo mật IoT cơ bản", objective: "Hiểu các rủi ro bảo mật trong IoT.", description: "Sử dụng mật khẩu và kênh truyền an toàn (TLS/SSL).", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Bảo+mật+IoT" },
                        { name: "Bài 12: Dự án IoT hoàn chỉnh", objective: "Triển khai hệ thống tự động hóa thực tế.", description: "Hoàn thiện một dự án tự động hóa cá nhân sử dụng Pico W và Node-RED.", image: "https://placehold.co/400x200/e0f2f1/0f766e?text=Dự+án+IoT+cuối+khóa" }
                    ]
                },
                // Chi tiết bài học cho khóa Roblox Coding Lab (ID 10) - 8 Level (mỗi Level 8 bài mẫu)
                {
                    courseId: 10, levelUnit: 1, title: "Level 1: Khởi đầu với Roblox Studio",
                    levelObjective: "Làm quen với giao diện Roblox Studio và các công cụ cơ bản để tạo thế giới đầu tiên.",
                    lessons: [
                        { name: "Bài 1: Cài đặt và khởi động Roblox Studio", objective: "Cài đặt Roblox Studio và tạo project đầu tiên.", description: "Hướng dẫn cài đặt, đăng nhập và tạo place mới trong Roblox Studio.", image: "https://placehold.co/400x200/e9f5ff/0b69d3?text=Roblox+Studio+Setup" },
                        { name: "Bài 2: Giao diện và Workspace", objective: "Hiểu các panel chính: Explorer, Properties, Toolbox.", description: "Làm quen với workspace, explorer và cách thêm object cơ bản.", image: "https://placehold.co/400x200/f0f9ff/0e7490?text=Workspace" },
                        { name: "Bài 3: Thêm và chỉnh sửa Parts", objective: "Tạo hình dạng, thay đổi kích thước và vị trí.", description: "Sử dụng Move/Scale/Rotate để xây dựng scene đơn giản.", image: "https://placehold.co/400x200/fee2e2/991b1b?text=Parts" },
                        { name: "Bài 4: Sử dụng Toolbox và Models", objective: "Tìm kiếm và dùng asset sẵn có.", description: "Kéo thả models từ Toolbox và quản lý chúng trong project.", image: "https://placehold.co/400x200/dbeafe/2563eb?text=Toolbox" },
                        { name: "Bài 5: Cơ bản về Anchoring và Collisions", objective: "Kiểm soát vật thể tĩnh/động và va chạm.", description: "Hiểu Anchored, CanCollide và cách chúng ảnh hưởng tới game.", image: "https://placehold.co/400x200/fef08a/a16207?text=Physics" },
                        { name: "Bài 6: Giao diện người chơi (StarterGui) cơ bản", objective: "Tạo GUI đơn giản hiển thị tên và điểm.", description: "Thêm ScreenGui, TextLabel và gắn script cập nhật nội dung.", image: "https://placehold.co/400x200/d8b4fe/6b21a8?text=GUI" },
                        { name: "Bài 7: Xuất bản Place đầu tiên", objective: "Lưu và xuất bản project lên Roblox.", description: "Hướng dẫn lưu, publish và chia sẻ link chơi thử.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Publish" },
                        { name: "Bài 8: Mini-project: Phòng trưng bày đơn giản", objective: "Áp dụng kiến thức để thiết kế một không gian 3D nhỏ.", description: "Tạo một phòng trưng bày gồm vài model, đèn và GUI mô tả.", image: "https://placehold.co/400x200/fecdd3/e11d48?text=Mini+Project" }
                    ]
                },
                {
                    courseId: 10, levelUnit: 2, title: "Level 2: Lua cơ bản cho Roblox",
                    levelObjective: "Nắm các khái niệm cơ bản về ngôn ngữ Lua trong môi trường Roblox: biến, hàm và event.",
                    lessons: [
                        { name: "Bài 1: Giới thiệu Lua trong Roblox", objective: "Hiểu vùng chạy script và nơi đặt script.", description: "Phân biệt Script, LocalScript, ModuleScript và cách sử dụng cơ bản.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Lua+Intro" },
                        { name: "Bài 2: Biến và kiểu dữ liệu", objective: "Sử dụng biến, bảng (table) và chuỗi.", description: "Khai báo biến, toán tử cơ bản và thao tác với string.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Variables" },
                        { name: "Bài 3: Cấu trúc điều kiện và vòng lặp", objective: "Áp dụng if/else, for, while để điều khiển luồng.", description: "Viết script điều khiển hành vi theo điều kiện và lặp.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Control+Flow" },
                        { name: "Bài 4: Hàm và mô-đun đơn giản", objective: "Đóng gói mã bằng hàm và ModuleScript.", description: "Tạo ModuleScript để tái sử dụng code giữa nhiều scripts.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Functions" },
                        { name: "Bài 5: Events và Bindable Events", objective: "Giao tiếp giữa scripts bằng events.", description: "Dùng events để gửi/truyền thông tin giữa server và client.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Events" },
                        { name: "Bài 6: Thao tác với Instance API", objective: "Tạo, xóa và sửa thuộc tính của đối tượng trong Workspace.", description: "Sử dụng Instance.new, :Destroy(), và chỉnh thuộc tính.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Instance+API" },
                        { name: "Bài 7: Debugging cơ bản", objective: "Dùng print và Output để gỡ lỗi.", description: "Học cách theo dõi lỗi, sử dụng Breakpoints và Watch.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Debug" },
                        { name: "Bài 8: Bài tập nhỏ: Tạo script di chuyển đơn giản", objective: "Áp dụng kiến thức Lua để điều khiển object.", description: "Viết script khiến một Part di chuyển qua lại theo thời gian.", image: "https://placehold.co/400x200/f5d0fe/701a75?text=Move+Script" }
                    ]
                },
                {
                    courseId: 10, levelUnit: 3, title: "Level 3: Tương tác người chơi & UI",
                    levelObjective: "Xây dựng hệ thống tương tác người chơi và giao diện người dùng (UI) cơ bản.",
                    lessons: [
                        { name: "Bài 1: Nhận diện hành động người chơi", objective: "Bắt sự kiện nhấn phím và click.", description: "Sử dụng UserInputService và ClickDetector để xử lý input.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Input" },
                        { name: "Bài 2: Tạo HUD cho người chơi", objective: "Hiển thị thông tin như máu/điểm trên màn hình.", description: "Sử dụng ScreenGui và cập nhật giá trị qua LocalScript.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=HUD" },
                        { name: "Bài 3: Tương tác với NPC", objective: "Tạo NPC có thể tương tác qua dialog", description: "Xây dựng hệ thống dialog cơ bản giữa người chơi và NPC.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=NPC" },
                        { name: "Bài 4: Cửa hàng trong game (Basic Shop)", objective: "Tạo giao diện mua vật phẩm đơn giản.", description: "Thiết kế UI shop và xử lý giao dịch nội bộ.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Shop" },
                        { name: "Bài 5: Lưu trữ dữ liệu tạm thời (DataStore intro)", objective: "Hiểu cơ chế lưu dữ liệu người chơi cơ bản.", description: "Giới thiệu DataStoreService (server-side) để lưu điểm số.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=DataStore" },
                        { name: "Bài 6: UI animation cơ bản", objective: "Tạo hiệu ứng chuyển động cho UI.", description: "Sử dụng TweenService để làm mượt chuyển động UI.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Tween" },
                        { name: "Bài 7: Chuyển scene và respawn", objective: "Quản lý respawn và chuyển bối cảnh chơi.", description: "Sử dụng TeleportService/Map switching cơ bản.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Respawn" },
                        { name: "Bài 8: Mini-project: Menu & HUD hoàn chỉnh", objective: "Tích hợp menu chính và HUD cho game.", description: "Xây dựng menu pause, start và HUD hiển thị thông tin game.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Menu+HUD" }
                    ]
                },
                {
                    courseId: 10, levelUnit: 4, title: "Level 4: Gameplay systems (Physics & Movement)",
                    levelObjective: "Thiết kế hệ thống chuyển động và vật lý cho nhân vật và đối tượng.",
                    lessons: [
                        { name: "Bài 1: Character movement cơ bản", objective: "Điều khiển nhân vật, tốc độ và nhảy.", description: "Tùy chỉnh Humanoid properties và scripts movement.", image: "https://placehold.co/400x200/fef08a/a16207?text=Movement" },
                        { name: "Bài 2: Ragdoll và physics interactions", objective: "Hiểu collision và vật lý phức tạp.", description: "Sử dụng constraints và mô phỏng vật lý đơn giản.", image: "https://placehold.co/400x200/d8b4fe/6b21a8?text=Physics" },
                        { name: "Bài 3: Platforms và moving parts", objective: "Tạo platforms di chuyển và trigger zones.", description: "Thiết kế level platform với moving parts và triggers.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Platforms" },
                        { name: "Bài 4: Collectibles & scoring", objective: "Tạo item thu thập và tính điểm.", description: "Spawn collectibles và cập nhật điểm cho người chơi.", image: "https://placehold.co/400x200/fecdd3/e11d48?text=Collectibles" },
                        { name: "Bài 5: Camera control", objective: "Tùy chỉnh camera để tạo góc nhìn phù hợp.", description: "Sử dụng Camera scripts để follow hoặc cinematic camera.", image: "https://placehold.co/400x200/fdba74/c2410c?text=Camera" },
                        { name: "Bài 6: Performance tips", objective: "Tối ưu hóa object và scripts để game chạy mượt.", description: "Giảm Draw calls, sử dụng StreamingEnabled và tối ưu scripts.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Perf" },
                        { name: "Bài 7: AI đơn giản cho đối thủ", objective: "Tạo hành vi cơ bản cho enemy.", description: "Sử dụng pathfinding và simple state machine.", image: "https://placehold.co/400x200/f5d0fe/701a75?text=AI" },
                        { name: "Bài 8: Mini-level: Obby (Obstacle Course)", objective: "Thiết kế một level obby hoàn chỉnh.", description: "Áp dụng platforms, collectibles và mechanics đã học.", image: "https://placehold.co/400x200/c7f0db/0e7490?text=Obby" }
                    ]
                },
                {
                    courseId: 10, levelUnit: 5, title: "Level 5: Multiplayer & Networking",
                    levelObjective: "Hiểu mô hình client-server trên Roblox và cách xử lý sự kiện mạng.",
                    lessons: [
                        { name: "Bài 1: Server vs Client scripts", objective: "Phân biệt hành vi server-side và client-side.", description: "Khi nào dùng Script vs LocalScript và quyền truy cập dữ liệu.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Server+Client" },
                        { name: "Bài 2: RemoteEvents & RemoteFunctions", objective: "Truyền dữ liệu giữa server và client.", description: "Sử dụng RemoteEvent để broadcast và RemoteFunction để request/response.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=RemoteEvents" },
                        { name: "Bài 3: Player joins & player data", objective: "Quản lý sự kiện người chơi vào/ra và lưu tạm.", description: "Xử lý PlayerAdded/PlayerRemoving và lưu data khi rời.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Player+Events" },
                        { name: "Bài 4: Sync state across clients", objective: "Đồng bộ vị trí/điểm giữa nhiều client.", description: "Thiết kế cách sync state an toàn qua server.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Sync" },
                        { name: "Bài 5: Anti-cheat basics", objective: "Hiểu rủi ro cheat và cách phòng tránh cơ bản.", description: "Kiểm tra và validate trên server, không tin client.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Anti+Cheat" },
                        { name: "Bài 6: Voice chat & in-game communication", objective: "Giới thiệu voice chat và hệ thống chat text.", description: "Sử dụng Roblox built-in chat features và voice options.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Voice" },
                        { name: "Bài 7: Server optimization for multiplayer", objective: "Tối ưu scripts server-side cho nhiều người chơi.", description: "Batch updates, limit per-frame work và profiling.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Server+Opt" },
                        { name: "Bài 8: Mini-project: Multiplayer race", objective: "Tạo mini-game đua nhiều người chơi.", description: "Thiết kế track, lap counting và leaderboards.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Multiplayer+Race" }
                    ]
                },
                {
                    courseId: 10, levelUnit: 6, title: "Level 6: Game systems & Economy",
                    levelObjective: "Xây dựng hệ thống game phức tạp: inventory, shop, currencies.",
                    lessons: [
                        { name: "Bài 1: Inventory basics", objective: "Thiết kế inventory đơn giản cho player.", description: "Lưu trữ items, equip/unequip và hiển thị UI.", image: "https://placehold.co/400x200/fef08a/a16207?text=Inventory" },
                        { name: "Bài 2: Currency & economy", objective: "Tạo hệ thống tiền tệ và giao dịch.", description: "Quản lý coins, purchases và balance.", image: "https://placehold.co/400x200/d8b4fe/6b21a8?text=Economy" },
                        { name: "Bài 3: Server-side item persistence", objective: "Lưu items giữa các phiên chơi.", description: "Dùng DataStore để lưu inventory và purchases.", image: "https://placehold.co/400x200/a7f3d0/047857?text=Persistence" },
                        { name: "Bài 4: Crafting & upgrades", objective: "Thiết kế hệ thống nâng cấp/vật phẩm kết hợp.", description: "Xây dựng recipe và upgrade paths.", image: "https://placehold.co/400x200/fecdd3/e11d48?text=Craft" },
                        { name: "Bài 5: Leaderboards & achievements", objective: "Hiển thị bảng xếp hạng và thành tựu.", description: "Tạo leaderboard UI và achievement tracking.", image: "https://placehold.co/400x200/fdba74/c2410c?text=Leaderboard" },
                        { name: "Bài 6: Secure purchases", objective: "Đảm bảo giao dịch an toàn trên server.", description: "Validate purchases server-side và avoid exploits.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Secure+Buy" },
                        { name: "Bài 7: UI for inventory/shop", objective: "Thiết kế UI thân thiện cho hệ thống economy.", description: "Xây dựng screens cho store và inventory management.", image: "https://placehold.co/400x200/f5d0fe/701a75?text=UI+Shop" },
                        { name: "Bài 8: Mini-project: Shop & Inventory integration", objective: "Tạo cửa hàng tích hợp với inventory.", description: "Hoàn thiện flow mua-bán và cập nhật inventory.", image: "https://placehold.co/400x200/c7f0db/0e7490?text=Shop+Project" }
                    ]
                },
                {
                    courseId: 10, levelUnit: 7, title: "Level 7: Polish & UX",
                    levelObjective: "Tối ưu trải nghiệm người chơi: âm thanh, hiệu ứng, menu và tutorial.",
                    lessons: [
                        { name: "Bài 1: Thêm âm thanh và music", objective: "Sử dụng Sound objects để thêm hiệu ứng âm thanh.", description: "Thêm background music, SFX và control volume.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Audio" },
                        { name: "Bài 2: Visual effects (particles)", objective: "Tạo particle effects cho events quan trọng.", description: "Sử dụng ParticleEmitter cho explosions, trails.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Particles" },
                        { name: "Bài 3: Menus & UX flows", objective: "Thiết kế menu bắt đầu, pause và end screens.", description: "Xây dựng flow UX mượt mà cho người chơi mới.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Menus" },
                        { name: "Bài 4: Onboarding & tutorial", objective: "Tạo tutorial giúp người chơi làm quen game.", description: "Thiết kế step-by-step tutorial trong game.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Tutorial" },
                        { name: "Bài 5: Accessibility basics", objective: "Cân nhắc người chơi có nhu cầu đặc biệt.", description: "Text size, color contrast và input alternatives.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Accessibility" },
                        { name: "Bài 6: Playtesting & feedback", objective: "Thu thập feedback từ người chơi để cải tiến.", description: "Cách tổ chức playtest và phân tích dữ liệu.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Playtest" },
                        { name: "Bài 7: Bug fixing checklist", objective: "Danh sách kiểm tra để sửa lỗi trước khi ra mắt.", description: "Các bước test và sửa lỗi thường gặp.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Bug+Fix" },
                        { name: "Bài 8: Mini-project: UX polish", objective: "Chuẩn bị giao diện và trải nghiệm để ra mắt.", description: "Áp dụng audio, particles và tutorial vào project.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Polish" }
                    ]
                },
                {
                    courseId: 10, levelUnit: 8, title: "Level 8: Hoàn thiện & Xuất bản",
                    levelObjective: "Chuẩn bị dự án để xuất bản: tối ưu, tiêu đề, thumbnail và marketing cơ bản.",
                    lessons: [
                        { name: "Bài 1: Kiểm tra cuối cùng & polishing", objective: "Đảm bảo game ổn định và mượt mà.", description: "Checklist cuối cùng trước khi publish.", image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Final+Check" },
                        { name: "Bài 2: Tạo thumbnail & icon", objective: "Thiết kế ảnh bìa và icon hấp dẫn.", description: "Sử dụng canvas hoặc công cụ design để làm thumbnail.", image: "https://placehold.co/400x200/fca5a5/9f1239?text=Thumbnail" },
                        { name: "Bài 3: Cấu hình game settings", objective: "Thiết lập permissions, monetization và nhóm.", description: "Cài đặt Game Settings và phân quyền collaborator.", image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Settings" },
                        { name: "Bài 4: Xuất bản và phân phối", objective: "Publish game và chia sẻ link/qr.", description: "Quy trình publish và chia sẻ tới người chơi.", image: "https://placehold.co/400x200/99f6e4/0891b2?text=Publish" },
                        { name: "Bài 5: Cơ bản về monetization", objective: "Giới thiệu DevProducts & Game Passes.", description: "Tùy chọn kiếm tiền cơ bản trên Roblox.", image: "https://placehold.co/400x200/d9f99d/3f6212?text=Monetize" },
                        { name: "Bài 6: Promotion & analytics basics", objective: "Theo dõi analytics và quảng bá game.", description: "Sử dụng Roblox analytics để xem retention và engagement.", image: "https://placehold.co/400x200/fef9c3/a16207?text=Analytics" },
                        { name: "Bài 7: Post-launch support", objective: "Lên kế hoạch cập nhật và fix sau khi ra mắt.", description: "Quản lý roadmap nội dung và xử lý bug post-release.", image: "https://placehold.co/400x200/fed7aa/c2410c?text=Post+Launch" },
                        { name: "Bài 8: Final project: Publish-ready game", objective: "Xuất bản một game hoàn chỉnh lên Roblox platform.", description: "Hoàn thiện project đầu tay và chia sẻ với cộng đồng.", image: "https://placehold.co/400x200/bae6fd/0369a1?text=Final+Project" }
                    ]
                },
                // Chi tiết bài học cho Khám Phá Trí Tuệ Nhân Tạo (courseId: 8)
                {
                    courseId: 8,
                    levelUnit: 1, 
                    title: "Level 1: Nhập môn AI với Teachable Machine",
                    levelObjective: "Hiểu được khái niệm cơ bản về AI và cách AI “học” từ dữ liệu; phân biệt giữa AI – con người – máy tính thông thường; biết cách huấn luyện mô hình AI đơn giản bằng hình ảnh, âm thanh, cử chỉ; ứng dụng mô hình AI vào trò chơi mini hoặc dự án sáng tạo trên Raise Playground; phát triển tư duy quan sát – thử nghiệm – suy luận – sáng tạo",
                    lessons: [
                        { 
                            name: " Khám phá trí tuệ nhân tạo", 
                            objective: "Hiểu nguyên lý khoa học về cách máy học từ dữ liệu. Vận dụng tư duy quan sát – thử nghiệm – suy luận. Phát triển tư duy công nghệ và sáng tạo", 
                            description: "Chủ đề: AI là gì? Máy có thông minh như con người không? Kiến thức: Hiểu khái niệm cơ bản về Trí tuệ nhân tạo (AI); phân biệt giữa máy tính thông thường và AI; tìm hiểu AI “học” từ dữ liệu như thế nào. Làm quen giao diện Teachable Machine, hiểu khái niệm “model” và cách huấn luyện mô hình AI bằng hình ảnh. Dự án: “Chiếc máy nhận diện đồ vật” – học sinh tự thu thập hình ảnh thật của 2–3 đồ vật quanh mình (bút, thước, chai nước...) và huấn luyện AI phân biệt được từng vật thể. Sản phẩm là mô hình AI có thể “nhận biết” đồ vật khi đưa lên camera.",
                            image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Teachable+Machine",
                            productLink: "https://ibb.co/ZRg42YRh",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "AI học từ đâu?", 
                            objective: "Liên hệ đến khoa học sinh học (cảm giác & phản xạ); học cách tổ chức, thu thập dữ liệu – nền tảng của kỹ năng khoa học.", 
                            description: "Kiến thức: Tìm hiểu 3 cách AI học từ dữ liệu: hình ảnh, âm thanh và cử chỉ. Thực hành Audio Project để AI nhận biết các âm thanh khác nhau (vỗ tay, tiếng gõ bàn, tiếng “Hello”). Làm quen với Pose Project để nhận diện tư thế (giơ tay trái, giơ tay phải, cúi đầu).Dự án: “AI nghe tiếng vỗ tay” – học sinh tạo mô hình AI có thể nhận diện tiếng vỗ tay để kích hoạt hành động như bật/tắt đèn hoặc hiển thị hình ảnh vui nhộn trên màn hình.",
                            image: "https://placehold.co/400x200/fca5a5/9f1239?text=Teachable+Machine",
                            productLink: "https://ibb.co/JwBt77Jf",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Đi tìm kho báu trên bản đồ số", 
                            objective: "Kết nối với Toán học (tọa độ, hướng, vị trí); phát triển kỹ năng lập trình cơ bản và tư duy không gian.", 
                            description: "Kiến thức: Giới thiệu giao diện Raise Playground; hiểu hệ tọa độ X – Y trong môi trường lập trình; học cách điều khiển nhân vật di chuyển theo hướng và khoảng cách xác định. Dự án: “Truy tìm kho báu” – lập trình nhân vật di chuyển đến các điểm có kho báu trên bản đồ bằng lệnh tọa độ; hiển thị thông báo “Tìm thấy kho báu!” khi đến đúng vị trí.",
                            image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Raise Playground",
                            productLink: "https://ibb.co/KpPy9cCs",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "AI chọn hành động đúng!", 
                            objective: "Phát triển tư duy logic (Toán học – Công nghệ); rèn luyện kỹ năng ra quyết định và suy luận nguyên nhân – kết quả", 
                            description: "Kiến thức: Tìm hiểu khái niệm điều kiện (If...Else) trong lập trình; hiểu cách giúp nhân vật “ra quyết định” khi gặp tình huống khác nhau. Dự án: “Thử thách vượt chướng ngại vật” – lập trình nhân vật nếu chạm vật cản → quay lại, nếu chạm đồng xu → thu thập và cộng điểm. Sản phẩm là trò chơi nhỏ có phản ứng linh hoạt theo điều kiện.",
                            image: "https://placehold.co/400x200/99f6e4/0891b2?text=Raise Playground",
                            productLink: "https://ibb.co/qt7Yfmw",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: " Thu thập điểm năng lượng", 
                            objective: "Kết nối Toán học (số và phép tính), phát triển kỹ năng thu thập và xử lý dữ liệu như một nhà khoa học.", 
                            description: "Kiến thức: Hiểu khái niệm “biến” – nơi lưu trữ thông tin trong lập trình; học cách tạo và cập nhật biến trong trò chơi. Dự án: “Nhiệm vụ năng lượng” – khi robot nhặt được vật phẩm, biến “Điểm năng lượng” tăng lên. Học sinh lập trình hiển thị điểm số và tạo kết thúc khi đủ năng lượng.",
                            image: "https://placehold.co/400x200/d9f99d/3f6212?text=Raise Playground",
                            productLink: "https://ibb.co/vCbKmL1M",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Robot biết trả lời!", 
                            objective: "Liên hệ xã hội (giao tiếp người – máy); phát triển kỹ năng ngôn ngữ và giao tiếp công nghệ.", 
                            description: "Kiến thức: Làm quen khối lệnh Ask – Answer để tạo tương tác giữa người và máy. Dự án: “Trợ lý ảo thân thiện” – nhân vật hỏi tên người chơi và trả lời “Xin chào + tên bạn”. Học sinh mở rộng bằng cách tạo quiz mini (Ví dụ: “2 + 2 bằng mấy?” hoặc “Thủ đô Việt Nam là gì?”).",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "https://ibb.co/pjtSYhq5",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: " Thỏ nhanh hơn hay rùa kiên trì hơn?", 
                            objective: "Vận dụng kiến thức Công nghệ – Toán học – Kỹ thuật; phát triển tư duy thiết kế và sáng tạo.", 
                            description: "Kiến thức: Ứng dụng các kiến thức đã học (tọa độ, if–else, biến) để tạo trò chơi hoàn chỉnh.Dự án: “Cuộc đua rùa và thỏ” – học sinh lập trình hai nhân vật chạy đua, hiển thị khoảng cách và kết quả thắng cuộc. Trò chơi mô phỏng câu chuyện nổi tiếng với yếu tố ngẫu nhiên và luật chơi do học sinh đặt ra.",
                            image: "https://placehold.co/400x200/fed7aa/c2410c?text=Raise Playground",
                            productLink: "https://ibb.co/mCbFktQP",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Lập trình AI đầu tiên (phần 1)", 
                            objective: "Kết nối giữa công nghệ AI và tâm lý học (cảm xúc – biểu cảm); rèn kỹ năng sáng tạo, tư duy logic và thử nghiệm", 
                            description: "Kiến thức: Cách nhập mô hình AI từ Teachable Machine vào Raise Playground; hiểu cách dùng dữ liệu hình ảnh làm đầu vào điều khiển hành động. Dự án: “AI cảm xúc vui buồn” – khi AI nhận diện khuôn mặt cười → nhân vật nhảy múa, khi buồn → nhân vật nằm nghỉ. Sản phẩm kết hợp giữa học máy và lập trình phản hồi.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Project",
                             productLink: "https://ibb.co/qLjG6cjx",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                                                { 
                            name: "Lập trình AI đầu tiên (phần 2)", 
                            objective: "Ứng dụng tổng hợp khoa học, công nghệ, toán học và nghệ thuật; phát triển khả năng làm việc nhóm, sáng tạo và phản biện.", 
                            description: "Kiến thức: Ứng dụng mô hình Pose Project (nhận diện tư thế) từ Teachable Machine; kết hợp với điều kiện và biến trong Raise Playground.Dự án: “AI điều khiển nhân vật né vật cản” – nhân vật di chuyển sang trái/phải dựa theo cử chỉ tay học sinh. Mở rộng bằng cách thêm điểm số và vật cản ngẫu nhiên.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Project",
                            productLink: "https://ibb.co/wNx5qHfP",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Ôn tập & Dự án cuối khóa (phần 1)", 
                            objective: "Tạo dự án AI độc lập", 
                            description: "Kiến thức: Hoàn thiện, kiểm thử và thuyết trình sản phẩm. Học sinh học cách trình bày ý tưởng, mô tả mô hình AI đã tạo và chia sẻ kết quả.Dự án: “AI Showroom” – trưng bày sản phẩm nhóm/cá nhân: AI nhận diện cảm xúc, AI nghe lệnh bằng âm thanh, AI chơi game. Giáo viên cùng học sinh bình chọn dự án sáng tạo nhất.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Project"
                        },
                        { 
                            name: "Ôn tập & Dự án cuối khóa (phần 2)", 
                            objective: "Tạo dự án AI độc lập", 
                            description: "Kiến thức: Hoàn thiện, kiểm thử và thuyết trình sản phẩm. Học sinh học cách trình bày ý tưởng, mô tả mô hình AI đã tạo và chia sẻ kết quả.Dự án: “AI Showroom” – trưng bày sản phẩm nhóm/cá nhân: AI nhận diện cảm xúc, AI nghe lệnh bằng âm thanh, AI chơi game. Giáo viên cùng học sinh bình chọn dự án sáng tạo nhất.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Project"
                        },
                                                                       { 
                            name: "Final Project Presentation", 
                            objective: "Tạo dự án AI độc lập", 
                            description: "Áp dụng kiến thức đã học để tạo một project AI của riêng mình.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Project"
                        }
                    ]
                },
                {
                    courseId: 8,
                    levelUnit: 2, 
                    title: "Level 2: AI với Raise Playground",
                    levelObjective: "Giúp học sinh hiểu và ứng dụng trí tuệ nhân tạo (AI) thông qua các Extension của Raise Playground, từ đó phát triển tư duy sáng tạo, kỹ năng lập trình và năng lực giải quyết vấn đề thực tiễn theo định hướng STEAM.- Thành thạo sử dụng các Extension AI (Pen, Hand/Face/Body Sensing, Text Classification, Translate, Text to Speech…).- Biết lập trình điều khiển nhân vật bằng tín hiệu nhận dạng từ camera hoặc văn bản.- Biết cách huấn luyện mô hình AI đơn giản (Text Classification).Hiểu nguyên lý cơ bản của cảm biến hình ảnh, thị giác máy tính, và nhận dạng ngôn ngữ.Thiết kế sản phẩm sinh động (game, camera filter, chatbot…) thể hiện cá tính. Hiểu ứng dụng AI trong đời sống: giao tiếp, học tập, nghệ thuật, sức khỏe, giải trí",
                    lessons: [
                        { 
                            name: "Cây cọ thông minh", 
                            objective: "Làm quen với các Extension trong Raise Playground; học cách sử dụng Pen để vẽ tự động bằng lập trình.Học sinh hiểu cách máy tính thực hiện các thao tác “vẽ” giống con người thông qua lệnh và tọa độ. Liên hệ kiến thức toán học (hệ trục tọa độ) và nghệ thuật tạo hình để tạo ra các hình vẽ độc đáo. Học sinh thấy được mối liên hệ giữa nghệ thuật, lập trình và AI trong sáng tạo.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Giọng nói biết dịch", 
                            objective: "Cách AI “nghe” và “nói” thông qua công nghệ Text to Speech (TTS) và Dịch ngôn ngữ (Translate).Hiểu cách AI xử lý ngôn ngữ tự nhiên (NLP) và ứng dụng trong giao tiếp đa ngôn ngữ. Học sinh thực hành tạo nhân vật biết “nói chuyện” và “dịch” lời nói, qua đó hiểu vai trò của AI trong kết nối con người trên toàn cầu.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bàn tay thần kỳ", 
                            objective: "Tìm hiểu nguyên lý thị giác máy tính (computer vision); cách máy tính nhận dạng hình dạng bàn tay và cử chỉ. Hiểu ứng dụng của AI trong nhận dạng chuyển động (gesture control) – từ trò chơi tương tác, robot, đến y tế. Học sinh rèn luyện kỹ năng phân tích – phản xạ – sáng tạo, đồng thời nhận thức được AI giúp hỗ trợ con người như thế nào trong cuộc sống.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Khuôn mặt vui nhộn!", 
                            objective: "Học về cách AI phân biệt các đặc điểm khuôn mặt (eyes, nose, smile…) và sử dụng vào tương tác nhân vật. iểu nguyên lý nhận dạng khuôn mặt, các ứng dụng (FaceID, filter camera, robot giao tiếp), và đạo đức AI – cách tôn trọng quyền riêng tư khi AI sử dụng hình ảnh con người. Học sinh rèn tư duy công dân số có trách nhiệm.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Cơ thể chuyển động!", 
                            objective: "Tìm hiểu AI theo dõi chuyển động toàn thân qua camera (pose estimation). Hiểu cơ chế AI mô phỏng tư thế con người, ứng dụng trong thể thao, sức khỏe, game và giáo dục thể chất. Học sinh kết hợp lập trình và vận động cơ thể, phát triển cả thể chất và tư duy logic.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Chatbot thông minh!", 
                            objective: "Khái niệm phân loại văn bản – cách AI “hiểu” và phân nhóm từ/câu. Học sinh hiểu nguyên lý học máy (machine learning) cơ bản qua văn bản; áp dụng vào chatbot thông minh hoặc ứng dụng học ngoại ngữ. Từ đó hiểu vai trò của AI trong hỗ trợ học tập và giao tiếp xã hội.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Bộ lọc cảm xúc!", 
                            objective: "Mở rộng Text Classification để AI nhận biết cảm xúc tích cực / tiêu cực qua câu chữ. Học sinh khám phá cách AI nhận biết cảm xúc người dùng, liên hệ đến tâm lý học – giao tiếp xã hội, và hiểu tầm quan trọng của AI cảm xúc (Affective AI) trong việc hỗ trợ người khuyết tật, chăm sóc tinh thần hoặc tư vấn thông minh.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                        { 
                            name: "Selfie thông minh – Face Filter!", 
                            objective: "Sử dụng camera và lập trình filter khuôn mặt – kết hợp nghệ thuật và thị giác máy. Học sinh tự thiết kế filter ngộ nghĩnh, rèn khả năng thiết kế sáng tạo, hiểu cách AI phân tích hình ảnh để tạo ra các hiệu ứng. Kết nối với thực tế như Snapchat, Instagram, TikTok filter — AI trong nghệ thuật kỹ thuật số.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                                                { 
                            name: "Ôn Tập & Hoàn thiện dự án", 
                            objective: "Học sinh tích hợp các công nghệ đã học (hand/face sensing, text AI, TTS, translate…) để tạo một sản phẩm AI thực tế như “AI Hướng dẫn viên du lịch”, “Trò chơi điều khiển bằng tay”, hoặc “Chatbot thân thiện”.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                                                { 
                            name: "Hoàn thiện dự án", 
                            objective: "Luyện tập kỹ năng thuyết trình và phản biện sản phẩm AI.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                                                { 
                            name: "Hoàn thiện dự án", 
                            objective: "Học sinh biết cách kết hợp nhiều Extension AI để tạo sản phẩm hoàn chỉnh.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                                                { 
                            name: "Báo Cáo Cuối Khoá", 
                            objective: "Trình bày và chia sẻ sản phẩm AI đã tạo.", 
                            description: ".",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Raise Playground",
                            productLink: "",
                            lessonPlanLink: "",
                            slideLink: "",
                            quizLink: ""
                        },
                    ]
                },
                {
                    courseId: 8,
                    levelUnit: 3,
                    title: "Level 3: Lập trình AI với PictoBlox",
                    levelObjective: "Học cách tích hợp AI vào các dự án lập trình block với PictoBlox.",
                    lessons: [
                        {
                            name: "Bài 1: PictoBlox và AI Extensions",
                            objective: "Cài đặt và cấu hình PictoBlox cho AI",
                            description: "Làm quen với giao diện và cài đặt các extension AI cần thiết.",
                            image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=PictoBlox+AI"
                        },
                        {
                            name: "Bài 2: Nhận diện cử chỉ",
                            objective: "Lập trình nhận diện cử chỉ tay",
                            description: "Sử dụng AI để nhận diện và phản ứng với cử chỉ tay.",
                            image: "https://placehold.co/400x200/fca5a5/9f1239?text=Gesture"
                        },
                        {
                            name: "Bài 3: Voice Commands",
                            objective: "Tích hợp điều khiển bằng giọng nói",
                            description: "Thêm tính năng nhận diện và thực thi lệnh bằng giọng nói.",
                            image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Voice"
                        },
                        {
                            name: "Bài 4: Emotion Detection",
                            objective: "Nhận diện cảm xúc qua khuôn mặt",
                            description: "Tạo ứng dụng phản ứng với biểu cảm của người dùng.",
                            image: "https://placehold.co/400x200/99f6e4/0891b2?text=Emotion"
                        },
                        {
                            name: "Bài 5: Smart Camera",
                            objective: "Xây dựng ứng dụng camera thông minh",
                            description: "Tích hợp AI vào camera để nhận diện và theo dõi đối tượng.",
                            image: "https://placehold.co/400x200/d9f99d/3f6212?text=Smart+Cam"
                        },
                        {
                            name: "Bài 6: AI trong Game",
                            objective: "Tạo game tương tác với AI",
                            description: "Phát triển trò chơi sử dụng các tính năng AI.",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Game+AI"
                        },
                        {
                            name: "Bài 7: Computer Vision Project",
                            objective: "Dự án thị giác máy tính",
                            description: "Xây dựng ứng dụng xử lý hình ảnh nâng cao với AI.",
                            image: "https://placehold.co/400x200/fed7aa/c2410c?text=CV+Project"
                        },
                        {
                            name: "Bài 8: Interactive Story",
                            objective: "Kể chuyện tương tác với AI",
                            description: "Tạo câu chuyện tương tác sử dụng nhiều tính năng AI.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Story"
                        }
                    ]
                },
                {
                    courseId: 8,
                    levelUnit: 4,
                    title: "Level 4: AI nâng cao với PictoBlox",
                    levelObjective: "Phát triển các ứng dụng AI phức tạp hơn và học cách kết hợp nhiều tính năng AI.",
                    lessons: [
                        {
                            name: "Bài 1: Custom AI Models",
                            objective: "Tạo và sử dụng model AI tùy chỉnh",
                            description: "Học cách tạo và tích hợp model AI riêng vào PictoBlox.",
                            image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Custom+AI"
                        },
                        {
                            name: "Bài 2: Multi-Modal AI",
                            objective: "Kết hợp nhiều loại AI",
                            description: "Tạo ứng dụng sử dụng nhiều tính năng AI cùng lúc.",
                            image: "https://placehold.co/400x200/fca5a5/9f1239?text=Multi+AI"
                        },
                        {
                            name: "Bài 3: Smart Assistant",
                            objective: "Xây dựng trợ lý ảo",
                            description: "Tạo trợ lý ảo có thể tương tác bằng giọng nói và hình ảnh.",
                            image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=Assistant"
                        },
                        {
                            name: "Bài 4: AI Art Generator",
                            objective: "Tạo nghệ thuật với AI",
                            description: "Phát triển ứng dụng tạo và chỉnh sửa hình ảnh nghệ thuật.",
                            image: "https://placehold.co/400x200/99f6e4/0891b2?text=AI+Art"
                        },
                        {
                            name: "Bài 5: Smart Home Simulation",
                            objective: "Mô phỏng nhà thông minh",
                            description: "Tạo mô phỏng điều khiển thiết bị thông minh bằng AI.",
                            image: "https://placehold.co/400x200/d9f99d/3f6212?text=Smart+Home"
                        },
                        {
                            name: "Bài 6: Educational AI Game",
                            objective: "Phát triển game giáo dục với AI",
                            description: "Tạo trò chơi học tập tương tác thông minh.",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=Edu+Game"
                        },
                        {
                            name: "Bài 7: AI Music Creator",
                            objective: "Sáng tạo âm nhạc với AI",
                            description: "Xây dựng ứng dụng tạo và chỉnh sửa âm nhạc bằng AI.",
                            image: "https://placehold.co/400x200/fed7aa/c2410c?text=AI+Music"
                        },
                        {
                            name: "Bài 8: Final Project",
                            objective: "Dự án tổng hợp cuối khóa",
                            description: "Tạo một ứng dụng hoàn chỉnh kết hợp nhiều tính năng AI.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Final"
                        }
                    ]
                },
                {
                    courseId: 8,
                    levelUnit: 5,
                    title: "Level 5: Tynker AI Lab",
                    levelObjective: "Khám phá các ứng dụng AI nâng cao thông qua nền tảng Tynker.",
                    lessons: [
                        {
                            name: "Bài 1: Tynker AI Platform",
                            objective: "Làm quen với Tynker và AI tools",
                            description: "Tìm hiểu về nền tảng Tynker và các công cụ AI có sẵn.",
                            image: "https://placehold.co/400x200/e9d5ff/6b21a8?text=Tynker+AI"
                        },
                        {
                            name: "Bài 2: Image Recognition",
                            objective: "Nhận diện hình ảnh nâng cao",
                            description: "Sử dụng AI để nhận diện và phân loại đối tượng phức tạp.",
                            image: "https://placehold.co/400x200/fca5a5/9f1239?text=Image+AI"
                        },
                        {
                            name: "Bài 3: Natural Language AI",
                            objective: "Xử lý ngôn ngữ tự nhiên",
                            description: "Tạo ứng dụng hiểu và phản hồi ngôn ngữ tự nhiên.",
                            image: "https://placehold.co/400x200/dbeafe/1d4ed8?text=NLP"
                        },
                        {
                            name: "Bài 4: Pattern Recognition",
                            objective: "Nhận diện mẫu và dự đoán",
                            description: "Học cách AI nhận diện mẫu và dự đoán kết quả.",
                            image: "https://placehold.co/400x200/99f6e4/0891b2?text=Pattern"
                        },
                        {
                            name: "Bài 5: Decision Making AI",
                            objective: "AI trong ra quyết định",
                            description: "Xây dựng hệ thống AI hỗ trợ ra quyết định.",
                            image: "https://placehold.co/400x200/d9f99d/3f6212?text=Decision"
                        },
                        {
                            name: "Bài 6: Interactive AI Game",
                            objective: "Phát triển game AI tương tác",
                            description: "Tạo trò chơi thông minh với AI làm đối thủ.",
                            image: "https://placehold.co/400x200/fef9c3/a16207?text=AI+Game"
                        },
                        {
                            name: "Bài 7: Advanced AI Project",
                            objective: "Dự án AI nâng cao",
                            description: "Phát triển ứng dụng AI phức tạp với nhiều tính năng.",
                            image: "https://placehold.co/400x200/fed7aa/c2410c?text=Advanced"
                        },
                        {
                            name: "Bài 8: AI Competition Project",
                            objective: "Dự án thi đấu AI",
                            description: "Tạo và huấn luyện AI để tham gia các thử thách.",
                            image: "https://placehold.co/400x200/bae6fd/0369a1?text=Competition"
                        }
                    ]
                },
                // Lưu ý: Các Level không có dữ liệu chi tiết sẽ hiển thị thông báo "Nội dung đang được cập nhật".
            ];

            // Hàm để lấy trạng thái hoàn thành từ localStorage
            function getCompletedState() {
                const saved = localStorage.getItem('completedCourses');
                return saved ? JSON.parse(saved) : {};
            }

            // Hàm để lưu trạng thái hoàn thành vào localStorage
            function saveCompletedState(state) {
                localStorage.setItem('completedCourses', JSON.stringify(state));
            }

            // Định nghĩa hàm toggle ở phạm vi window để có thể gọi từ onclick
            window.toggleCourseComplete = function(courseId, event) {
                if (event) {
                    event.stopPropagation();
                }
                const completedState = getCompletedState();
                completedState[courseId] = !completedState[courseId];
                saveCompletedState(completedState);
                
                // Cập nhật UI
                const card = document.querySelector(`[data-course-id="${courseId}"]`);
                if (card) {
                    const icon = card.querySelector('.complete-icon');
                    
                    if (completedState[courseId]) {
                        icon.classList.remove('text-slate-300');
                        icon.classList.add('text-green-500');
                    } else {
                        icon.classList.add('text-slate-300');
                        icon.classList.remove('text-green-500');
                    }
                }
            }

            const coursesData = [
                {
                    id: 1,
                    subject: "Lập trình",
                    title: "Bé Sáng Tạo Số",
                    ageGroup: "5-7",
                    modules: 8,
                    colorClass: "color-group-1",
                    timelineHeaderClass: "timeline-header-1",
                    curriculum: [
                        { unit: 1, name: "ScratchJr" }, { unit: 2, name: "ScratchJr" }, { unit: 3, name: "Maker Empire" }, { unit: 4, name: "Maker Empire" },
                        { unit: 5, name: "LEGO Education DUPLO STEAM Park" }, { unit: 6, name: "LEGO Education DUPLO Coding Express" }, { unit: 7, name: "Máy tính cơ bản" }, { unit: 8, name: "Máy tính cơ bản" }
                    ],
                    ageMarkers: [
                        { range: "5-6 tuổi", start: 1, end: 4 },
                        { range: "6-7 tuổi", start: 5, end: 8 }
                    ]
                },
                {
                    id: 2,
                    subject: "Lập trình",
                    title: "Game Creator Lab",
                    ageGroup: "7-11",
                    modules: 12,
                    colorClass: "color-group-2",
                    timelineHeaderClass: "timeline-header-2",
                    curriculum: [
                        { unit: 1, name: "Scratch" }, { unit: 2, name: "Scratch" }, { unit: 3, name: "Scratch, AI" },
                        { unit: 4, name: "Scratch, AI" }, { unit: 5, name: "Tynker" }, { unit: 6, name: "Tynker, AI" },
                        { unit: 7, name: "Kodu Game Lab" }, { unit: 8, name: "Kodu Game Lab" }, { unit: 9, name: "Minecraft Education" },
                        { unit: 10, name: "Minecraft Education" }, { unit: 11, name: "Delightex Edu" }, { unit: 12, name: "Delightex Edu" }
                    ],
                    ageMarkers: [
                        { range: "7-8 tuổi", start: 1, end: 4 },
                        { range: "8-9 tuổi", start: 5, end: 8 },
                        { range: "9-11 tuổi", start: 9, end: 12 }
                    ]
                },
                {
                    id: 3,
                    subject: "Robot",
                    title: "Khám Phá Robotics",
                    ageGroup: "7-11",
                    modules: 12,
                    colorClass: "color-group-3",
                    timelineHeaderClass: "timeline-header-3",
                    curriculum: [
                        { unit: 1, name: "Lego Wedo" }, { unit: 2, name: "Lego Wedo" }, { unit: 3, name: "Lego Wedo" },
                        { unit: 4, name: "Wedo,Scratch" }, { unit: 5, name: "Mindstorms/ Spike Prime" }, { unit: 6, name: "Mindstorms/ Spike Prime" },
                        { unit: 7, name: "Mindstorms/ Spike Prime" }, { unit: 8, name: "Mindstorms/ Spike Prime" }, { unit: 9, name: "Make Code, Micro/Bit" },
                        { unit: 10, name: "Make Code, Micro/Bit" }, { unit: 11, "name": "PictoBlox, Micro/Bit" }, { unit: 12, name: "PictoBlox, Python, AI" }
                    ],
                    ageMarkers: [
                        { range: "7-8 tuổi", start: 1, end: 4 },
                        { range: "8-9 tuổi", start: 5, end: 8 },
                        { range: "9-11 tuổi", start: 9, end: 12 }
                    ]
                },
                {
                    id: 4,
                    subject: "3D",
                    title: "Hoạ Sĩ Công Nghệ",
                    ageGroup: "7-11",
                    modules: 12,
                    colorClass: "color-group-4",
                    timelineHeaderClass: "timeline-header-4",
                    curriculum: [
                        { unit: 1, name: "SOLIDWORKS" }, { unit: 2, name: "SOLIDWORKS" }, { unit: 3, name: "Maker Empire" },
                        { unit: 4, name: "Maker Empire" }, { unit: 5, name: "TinkerCAD" }, { unit: 6, name: "TinkerCAD" },
                        { unit: 7, name: "TinkerCAD/ Assembler" }, { unit: 8, name: "Assembler EDU" }, { unit: 9, name: "Deligtex (CoSpaces)" },
                        { unit: 10, name: "Deligtex (CoSpaces)" }, { unit: 11, name: "Deligtex (CoSpaces)" }, { unit: 12, name: "Dự án VR/AR" }
                    ],
                    ageMarkers: [
                        { range: "7-8 tuổi", start: 1, end: 4 },
                        { range: "8-9 tuổi", start: 5, end: 8 },
                        { range: "9-11 tuổi", start: 9, end: 12 }
                    ]
                },
                /* KHÓA LẬP TRÌNH CẤP 2 - CHIA NHỎ */
                {
                    id: 5,
                    subject: "Lập trình Web",
                    title: "Lập Trình Web & UI/UX",
                    ageGroup: "12-15",
                    modules: 8,
                    colorClass: "color-group-5",
                    timelineHeaderClass: "timeline-header-5",
                    curriculum: [
                        { unit: 1, name: "HTML&CSS Cơ Bản" }, { unit: 2, name: "HTML&CSS Nâng Cao" }, { unit: 3, name: "Figma" },
                        { unit: 4, name: "Bootstrap / Tailwind" }, { unit: 5, name: "Ngôn Ngữ Javascript" }, { unit: 6, name: "Javascript DOM" },
                        { unit: 7, name: "Javascript DOM" }, { unit: 8, name: "Web Interactive" }
                    ],
                    ageMarkers: [
                        { range: "12-15 tuổi", start: 1, end: 8 }
                    ]
                },
                {
                    id: 10,
                    subject: "Lập trình Game",
                    title: "Roblox Coding Lab",
                    ageGroup: "12-15",
                    modules: 8,
                    colorClass: "color-group-5",
                    timelineHeaderClass: "timeline-header-5",
                    curriculum: [
                        { unit: 1, name: "Roblox Studio & Lua" }, { unit: 2, name: "Roblox Studio & Lua" }, { unit: 3, name: "Roblox Studio & Lua" },
                        { unit: 4, name: "Roblox Studio & Lua" }, { unit: 5, name: "Roblox Studio & Lua" }, { unit: 6, name: "Roblox Studio & Lua" },
                        { unit: 7, name: "Unity" }, { unit: 8, name: "Unity" }
                    ],
                    ageMarkers: [
                        { range: "12-15 tuổi", start: 1, end: 8 }
                    ]
                },
                {
                    id: 11,
                    subject: "Lập trình App",
                    title: "App Programming Lab",
                    ageGroup: "12-15",
                    modules: 8,
                    colorClass: "color-group-5",
                    timelineHeaderClass: "timeline-header-5",
                    curriculum: [
                        { unit: 1, name: "Python Nâng cao (Cấu trúc)" }, { unit: 2, name: "Python/ Tinker & SQLITE" }, { unit: 3, name: "Thiết kế UI/UX (Figma)" },
                        { unit: 4, name: "App Inventor Cơ bản" }, { unit: 5, name: "Tạo App Android/iOS cơ bản" }, { unit: 6, name: "Tương tác Database App" },
                        { unit: 7, name: "Xử lý dữ liệu trong App" }, { unit: 8, name: "Dự án App hoàn chỉnh" }
                    ],
                    ageMarkers: [
                        { range: "12-15 tuổi", start: 1, end: 8 }
                    ]
                },
                /* CÁC KHÓA CÒN LẠI */
                {
                    id: 6,
                    subject: "Robot & IOT",
                    title: "IOT Explorer",
                    ageGroup: "12-15",
                    modules: 12,
                    colorClass: "color-group-6",
                    timelineHeaderClass: "timeline-header-6",
                    curriculum: [
                        { unit: 1, name: "Arduino/ mBlock" }, { unit: 2, name: "Arduino/ mBlock" }, { unit: 3, name: "Arduino/ mBlock" },
                        { unit: 4, name: "Arduino C" }, { unit: 5, name: "Arduino Wemos, C" }, { unit: 6, name: "Arduino Wemos, C" },
                        { unit: 7, name: "Arduino Wemos, App Inventor" }, { unit: 8, name: "Arduino Wemos, App Inventor" }, { unit: 9, name: "Arduino Wemos, App Inventor" },
                        { unit: 10, name: "Arduino Cloud" }, { unit: 11, name: "Node-RED, Pico W" }, { unit: 12, name: "Node-RED, Pico W" }
                    ],
                    ageMarkers: [
                        { range: "12-15 tuổi", start: 1, end: 12 }
                    ]
                },
                {
                    id: 7,
                    subject: "3D Truyền thông đa phương tiện",
                    title: "Digital Arts Studio",
                    ageGroup: "12-15",
                    modules: 12,
                    colorClass: "color-group-8",
                    timelineHeaderClass: "timeline-header-8",
                    curriculum: [
                        { unit: 1, name: "Canva" }, { unit: 2, name: "Canva" }, { unit: 3, name: "Canva" },
                        { unit: 4, name: "Canva" }, { unit: 5, name: "Inkscape" }, { unit: 6, name: "Inkscape" },
                        { unit: 7, name: "Inkscape" }, { unit: 8, name: "Inkscape" }, { unit: 9, name: "Gimp" },
                        { unit: 10, name: "Gimp" }, { unit: 11, name: "Gimp" }, { unit: 12, name: "Gimp" }
                    ],
                    ageMarkers: [
                        { range: "12-15 tuổi", start: 1, end: 12 }
                    ]
                },
                {
                    id: 8,
                    subject: "AI",
                    title: "Khám Phá Trí Tuệ Nhân Tạo",
                    ageGroup: "7-11",
                    modules: 8,
                    colorClass: "color-group-7",
                    timelineHeaderClass: "timeline-header-7",
                    curriculum: [
                        { unit: 1, name: "Teachable Machine + Raise Playground" }, { unit: 2, name: "Raise Playground AI" }, { unit: 3, name: "PictoBlox AI" },
                        { unit: 4, name: "PictoBlox AI" }, { unit: 5, name: "Tynker AI" }, { unit: 6, name: "Robot tương tác AI (Codey Rocky)" },
                        { unit: 7, name: "Robot tương tác AI (mBot Neo/mBot 2)" }, { unit: 8, name: "Robot tương tác AI (CyberPi hoặc Mbot 2 Rover)" }
                    ],
                    ageMarkers: [
                        { range: "7-9 tuổi", start: 1, end: 4 },
                        { range: "9-11 tuổi", start: 5, end: 8 }
                    ]
                },
                {
                    id: 9,
                    subject: "AI",
                    title: "Phát triển Ứng dụng AI",
                    ageGroup: "12-15",
                    modules: 12,
                    colorClass: "color-group-7",
                    timelineHeaderClass: "timeline-header-7",
                    curriculum: [
                        { unit: 1, name: "Giới thiệu Python & Pandas" }, { unit: 2, name: "Phân tích dữ liệu cơ bản" }, { unit: 3, name: "TensorFlow Lite & Mobile" },
                        { unit: 4, name: "Xử lý Ngôn ngữ Tự nhiên (NLP)" }, { unit: 5, name: "Tạo mô hình Machine Learning" }, { unit: 6, name: "Tạo mô hình Machine Learning" },
                        { unit: 7, name: "Ứng dụng AI với Raspberry Pi" }, { unit: 8, name: "Ứng dụng AI với Raspberry Pi" }, { unit: 9, name: "Tạo Chatbot Python" },
                        { unit: 10, name: "Mạng nơ-ron cơ bản" }, { unit: 11, name: "Dự án nhận dạng hình ảnh" }, { unit: 12, name: "Dự án hoàn chỉnh" }
                    ],
                    ageMarkers: [
                        { range: "12-15 tuổi", start: 1, end: 12 }
                    ]
                }
            ];

            const coursesContainer = document.getElementById('courses-container');
            const detailModal = document.getElementById('detailModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            let activeFilters = { age: 'all', subject: 'all' };

            // Hàm mở Modal
            window.openModal = function(courseId, levelUnit, levelName) {
                // store current modal identifiers for edit/save handlers
                window._currentModal = { courseId, levelUnit, levelName };
                const course = coursesData.find(c => c.id === courseId);
                const levelDetail = lessonData.find(d => d.courseId === courseId && d.levelUnit === levelUnit);

                modalTitle.textContent = `${course.title} - Level ${levelUnit}: ${levelName}`;

                let contentHTML = '';

                if (levelDetail) {
                    // Get saved level product link
                    const savedProducts = loadLevelProducts();
                    if (savedProducts[courseId] && savedProducts[courseId][levelUnit]) {
                        levelDetail.productLink = savedProducts[courseId][levelUnit];
                    }
                    
                    // Determine level objective: prefer explicit levelObjective, else fall back to first lesson objective, else default
                    const levelObjective = levelDetail.levelObjective || (levelDetail.lessons && levelDetail.lessons.length ? levelDetail.lessons[0].objective : '') || 'Mục tiêu Level đang được cập nhật.';

                    contentHTML = `
                        <div class="space-y-6">
                            <div class="p-4 bg-white rounded-lg border border-slate-200">
                                <h4 class="text-md font-semibold text-slate-700">Mục tiêu Level</h4>
                                <p class="text-sm text-slate-600 mt-1">${levelObjective}</p>
                                <div class="mt-4 pt-4 border-t border-slate-200">
                                    <h4 class="text-md font-semibold text-slate-700 mb-2">Link sản phẩm của Level</h4>
                                    <div class="flex gap-2">
                                        <input type="text" 
                                               id="levelProductLink-${courseId}-${levelUnit}"
                                               class="flex-1 px-3 py-2 border border-slate-300 rounded-md text-sm"
                                               placeholder="Nhập link sản phẩm cho toàn bộ level"
                                               value="${levelDetail.productLink || ''}"
                                        >
                                        <button onclick="saveLevelProductLink(${courseId}, ${levelUnit})"
                                                class="px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700">
                                            Lưu
                                        </button>
                                    </div>
                                    <div class="mt-2">
                                        <a href="${levelDetail.productLink || '#'}" 
                                           target="_blank"
                                           class="inline-flex items-center px-3 py-1.5 text-sm font-medium ${levelDetail.productLink ? 'text-blue-600 hover:text-blue-700' : 'text-gray-400'} rounded-md">
                                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                                            </svg>
                                            ${levelDetail.productLink ? 'Xem sản phẩm Level' : 'Chưa có link sản phẩm'}
                                        </a>
                                    </div>
                                </div>
                            </div>
                            
                    `;

                    levelDetail.lessons.forEach((lesson, index) => {
                        const mergedLesson = getMergedLesson(lesson, courseId, levelUnit, index);
                        const completedLessons = loadCompletedLessons();
                        const isDone = !!(completedLessons[courseId] && completedLessons[courseId][levelUnit] && completedLessons[courseId][levelUnit][index]);
                        // Prepare formatted objective/description for AI Level 1 to improve readability
                        let objectiveBlock = `<p class="text-sm font-semibold text-blue-600">Mục tiêu: ${lesson.objective}</p>`;
                        let descriptionBlock = `<p class="text-sm text-slate-600 mt-1">${lesson.description}</p>`;
                        if (courseId === 8 && levelUnit === 1) {
                            // use formatted HTML (labels bolded and sections separated)
                            objectiveBlock = `<p class="text-sm font-semibold text-blue-600">Mục tiêu</p><div class="mt-1 text-sm text-slate-700">${formatLessonText(lesson.objective)}</div>`;
                            descriptionBlock = `<div class="mt-2 text-sm text-slate-600">${formatLessonText(lesson.description)}</div>`;
                        }

                        contentHTML += `
                            <div class="p-4 bg-slate-50 rounded-lg border border-slate-200 grid grid-cols-1 md:grid-cols-4 gap-4 items-start relative">
                                <div class="col-span-1">
                                    <img src="${lesson.image}" alt="Hình minh họa bài học" class="w-full rounded-md shadow-sm h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x200/cccccc/333333?text=Hình+chủ+đề';">
                                </div>
                                <div class="col-span-3">
                                    <button type="button" onclick="window.toggleLessonDone(${courseId}, ${levelUnit}, ${index}, event)" class="absolute right-3 top-3 p-1 rounded-full hover:bg-white/20 transition-colors">
                                        <svg class="w-5 h-5 ${isDone ? 'text-green-500' : 'text-slate-300'}" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                        </svg>
                                    </button>
                                    <h4 class="text-lg font-bold text-slate-900 mb-1">Bài ${index + 1}: ${lesson.name}</h4>
                                    ${objectiveBlock}
                                    ${descriptionBlock}
                                    
                                    
                                    
                                    <div class="mt-3 flex flex-wrap gap-2">
                                        <div class="inline-flex rounded-md shadow-sm">
                                                          <a href="${mergedLesson.productLink || '#'}" 
                                                              class="inline-flex items-center px-2.5 py-1.5 text-xs font-medium ${mergedLesson.productLink ? 'text-white bg-blue-600 hover:bg-blue-700' : 'text-gray-500 bg-gray-100'} rounded-md"
                                                              ${mergedLesson.productLink ? 'target="_blank"' : 'onclick="return false;"'}>
                                                <svg class="w-3.5 h-3.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
                                                ${mergedLesson.productLink ? 'Sản phẩm mẫu' : 'Đang cập nhật sản phẩm'}
                                            </a>
                                        </div>
                                        
                                        <div class="inline-flex rounded-md shadow-sm">
                                                          <a href="${mergedLesson.lessonPlanLink || '#'}" 
                                                              class="inline-flex items-center px-2.5 py-1.5 text-xs font-medium ${mergedLesson.lessonPlanLink ? 'text-white bg-green-600 hover:bg-green-700' : 'text-gray-500 bg-gray-100'} rounded-md"
                                                              ${mergedLesson.lessonPlanLink ? 'target="_blank"' : 'onclick="return false;"'}>
                                                <svg class="w-3.5 h-3.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                                ${mergedLesson.lessonPlanLink ? 'Giáo án' : 'Đang cập nhật giáo án'}
                                            </a>
                                        </div>

                                        <div class="inline-flex rounded-md shadow-sm">
                                                          <a href="${mergedLesson.slideLink || '#'}" 
                                                              class="inline-flex items-center px-2.5 py-1.5 text-xs font-medium ${mergedLesson.slideLink ? 'text-white bg-yellow-600 hover:bg-yellow-700' : 'text-gray-500 bg-gray-100'} rounded-md"
                                                              ${mergedLesson.slideLink ? 'target="_blank"' : 'onclick="return false;"'}>
                                                <svg class="w-3.5 h-3.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg>
                                                ${mergedLesson.slideLink ? 'Slide bài giảng' : 'Đang cập nhật slide'}
                                            </a>
                                        </div>

                                        <div class="inline-flex rounded-md shadow-sm">
                                                          <a href="${mergedLesson.quizLink || '#'}" 
                                                              class="inline-flex items-center px-2.5 py-1.5 text-xs font-medium ${mergedLesson.quizLink ? 'text-white bg-purple-600 hover:bg-purple-700' : 'text-gray-500 bg-gray-100'} rounded-md"
                                                              ${mergedLesson.quizLink ? 'target="_blank"' : 'onclick="return false;"'}>
                                                <svg class="w-3.5 h-3.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                                ${mergedLesson.quizLink ? 'Bài kiểm tra' : 'Đang cập nhật quiz'}
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                    });

                    contentHTML += `</div>`;
                } else {
                    contentHTML = `
                        <div class="text-center p-10 bg-yellow-50 rounded-lg">
                            <h4 class="text-xl font-semibold text-yellow-700">Nội dung Level ${levelUnit} đang được cập nhật</h4>
                            <p class="text-slate-500 mt-2">Vui lòng kiểm tra lại sau để xem chi tiết 12 bài học của Level này.</p>
                        </div>
                    `;
                }

                modalContent.innerHTML = contentHTML;
                detailModal.classList.remove('hidden');
                document.body.classList.add('overflow-hidden'); 
            }

            // Hàm đóng Modal
            window.closeModal = function(event) {
                if (event && event.target !== detailModal) return;
                detailModal.classList.add('hidden');
                document.body.classList.remove('overflow-hidden');
            }

            // Saved links persistence
            function loadSavedLinks() {
                try {
                    return JSON.parse(localStorage.getItem('savedLessonLinks') || '{}');
                } catch (e) { return {}; }
            }

            function saveSavedLinks(obj) {
                localStorage.setItem('savedLessonLinks', JSON.stringify(obj));
            }

            window.toggleEditLinks = function() {
                window._editLinksMode = !window._editLinksMode;
                // re-open current modal to refresh UI
                if (window._currentModal) {
                    openModal(window._currentModal.courseId, window._currentModal.levelUnit, window._currentModal.levelName);
                }
            }

            window.saveLessonLinks = function(courseId, levelUnit, lessonIndex) {
                const keyBase = `${courseId}-${levelUnit}-${lessonIndex}`;
                const prod = document.getElementById(`input-prod-${keyBase}`).value.trim();
                const plan = document.getElementById(`input-plan-${keyBase}`).value.trim();
                const slide = document.getElementById(`input-slide-${keyBase}`).value.trim();
                const quiz = document.getElementById(`input-quiz-${keyBase}`).value.trim();
                const saved = loadSavedLinks();
                if (!saved[courseId]) saved[courseId] = {};
                if (!saved[courseId][levelUnit]) saved[courseId][levelUnit] = {};
                saved[courseId][levelUnit][lessonIndex] = { productLink: prod, lessonPlanLink: plan, slideLink: slide, quizLink: quiz };
                saveSavedLinks(saved);
                // refresh modal
                openModal(courseId, levelUnit, window._currentModal.levelName);
            }

            function getMergedLesson(lesson, courseId, levelUnit, lessonIndex) {
                const saved = loadSavedLinks();
                const s = (saved[courseId] && saved[courseId][levelUnit] && saved[courseId][levelUnit][lessonIndex]) || {};
                return Object.assign({}, lesson, s);
            }

            // Completed lessons persistence
            function loadCompletedLessons() {
                try {
                    return JSON.parse(localStorage.getItem('completedLessons') || '{}');
                } catch (e) { return {}; }
            }

            function saveCompletedLessons(obj) {
                localStorage.setItem('completedLessons', JSON.stringify(obj));
            }

            // Function to save level product links
            function loadLevelProducts() {
                try {
                    return JSON.parse(localStorage.getItem('levelProducts') || '{}');
                } catch (e) { return {}; }
            }

            function saveLevelProducts(obj) {
                localStorage.setItem('levelProducts', JSON.stringify(obj));
            }

            // Helper to format lesson objective/description for readability (used for AI Level 1)
            function formatLessonText(text) {
                if (!text) return '';
                // Emphasize common section labels and add breaks for readability
                let out = text.replace(/Kiến thức:/g, '<strong>Kiến thức:</strong>');
                out = out.replace(/Dự án:/g, '<strong>Dự án:</strong>');
                out = out.replace(/Chủ đề:/g, '<strong>Chủ đề:</strong>');
                out = out.replace(/Sản phẩm:/g, '<strong>Sản phẩm:</strong>');
                out = out.replace(/\n/g, '<br>');
                // Ensure each labeled section starts on a new line
                out = out.replace(/<strong>/g, '<br><strong>');
                out = out.replace(/^<br>/, '');
                return out;
            }

            window.saveLevelProductLink = function(courseId, levelUnit) {
                const input = document.getElementById(`levelProductLink-${courseId}-${levelUnit}`);
                const link = input.value.trim();
                const saved = loadLevelProducts();
                
                if (!saved[courseId]) saved[courseId] = {};
                saved[courseId][levelUnit] = link;
                
                saveLevelProducts(saved);
                
                // Refresh modal to show updated link
                if (window._currentModal) {
                    openModal(courseId, levelUnit, window._currentModal.levelName);
                }
            }

            window.toggleLessonDone = function(courseId, levelUnit, lessonIndex, event) {
                // prevent click from bubbling (e.g., to modal)
                if (event && event.stopPropagation) event.stopPropagation();
                const saved = loadCompletedLessons();
                if (!saved[courseId]) saved[courseId] = {};
                if (!saved[courseId][levelUnit]) saved[courseId][levelUnit] = {};
                const current = !!saved[courseId][levelUnit][lessonIndex];
                saved[courseId][levelUnit][lessonIndex] = !current;
                saveCompletedLessons(saved);
                // refresh modal to show updated icon
                if (window._currentModal) {
                    openModal(window._currentModal.courseId, window._currentModal.levelUnit, window._currentModal.levelName);
                }
            }

            function createTimeline(course) {
                let curriculumHTML = '';
                course.curriculum.forEach(step => {
                    const levelNameEncoded = encodeURIComponent(step.name);
                    curriculumHTML += `
                        <div class="timeline-step" onclick="openModal(${course.id}, ${step.unit}, '${step.name}')">
                            <span class="text-xs font-bold text-slate-400">Level ${step.unit}</span>
                            <p class="text-sm font-semibold text-slate-700 mt-1">${step.name || '&nbsp;'}</p>
                        </div>
                    `;
                });

                // Tạo age markers section
                let ageMarkersHTML = `
                    <div class="age-markers-container mb-2 flex">
                        <div class="age-label ${course.timelineHeaderClass} text-sm font-semibold">
                            ${course.ageGroup} tuổi
                        </div>
                    </div>
                `;

                return `
                    <div class="mt-4">
                        ${ageMarkersHTML}
                        <div class="timeline-container relative flex w-full bg-white rounded-lg shadow-inner">
                            ${curriculumHTML}
                        </div>
                    </div>
                `;
            }
            
            function renderCourses() {
                coursesContainer.innerHTML = '';
                coursesData.forEach(course => {
                    const timelineHTML = createTimeline(course);
                    const completedState = getCompletedState();
                    const isCompleted = completedState[course.id] || false;
                    const card = `
                        <div class="course-card bg-white rounded-2xl shadow-lg overflow-hidden transition-all duration-300" 
                             data-age-group="${course.ageGroup}" 
                             data-subject="${course.subject}"
                             data-course-id="${course.id}">
                            <div class="p-6 ${course.colorClass} flex justify-between items-start relative">
                                <div>
                                    <h3 class="text-2xl font-bold text-slate-800">${course.title}</h3>
                                    <div class="flex items-center space-x-2 mt-2">
                                        <span class="text-sm font-semibold bg-white/70 px-3 py-1 rounded-full">${course.subject}</span>
                                        <span class="text-sm font-semibold bg-white/70 px-3 py-1 rounded-full">${course.ageGroup} tuổi</span>
                                    </div>
                                </div>
                                <div class="flex-shrink-0 text-right">
                                    <div class="flex items-center justify-end mb-2">
                                        <button type="button"
                                                onclick="window.toggleCourseComplete(${course.id}, event);" 
                                                class="complete-button p-2 hover:bg-white/10 rounded-full transition-colors cursor-pointer">
                                            <svg class="complete-icon w-6 h-6 ${isCompleted ? 'text-green-500' : 'text-slate-300'}" 
                                                 fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" 
                                                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" 
                                                      clip-rule="evenodd">
                                                </path>
                                            </svg>
                                        </button>
                                    </div>
                                    <span class="text-4xl font-extrabold text-slate-900 leading-none">${course.modules}</span>
                                    <span class="block text-sm font-semibold text-slate-600 mt-[-5px]">Level</span>
                                </div>
                            </div>
                            <div class="p-6">
                                <h4 class="text-md font-semibold text-blue-700 mb-2">Lộ trình học:</h4>
                                ${timelineHTML}
                            </div>
                        </div>
                    `;
                    coursesContainer.innerHTML += card;
                });
            }

            function filterCourses() {
                const courseCards = document.querySelectorAll('.course-card');
                const genericProgrammingSubjects = ["Lập trình", "Lập trình Web", "Lập trình Game", "Lập trình App"];

                courseCards.forEach(card => {
                    const ageMatch = activeFilters.age === 'all' || card.dataset.ageGroup === activeFilters.age;
                    const cardSubject = card.dataset.subject;

                    let subjectMatch = false;
                    
                    if (activeFilters.subject === 'all') {
                        subjectMatch = true;
                    } else if (activeFilters.subject === 'Lập trình') {
                        // Nút "Lập trình (Tổng hợp)" sẽ hiển thị tất cả các khóa Lập trình cụ thể.
                        subjectMatch = genericProgrammingSubjects.includes(cardSubject);
                    } else if (activeFilters.subject === 'Robot') {
                        // Nút "Robot" sẽ hiển thị các khóa "Robot" và "Robot & IOT"
                        subjectMatch = cardSubject === 'Robot' || cardSubject === 'Robot & IOT';
                    } else if (activeFilters.subject === cardSubject) {
                        // Lọc theo khóa cụ thể (AI, Lập trình Web, 3D,...)
                        subjectMatch = true;
                    } else {
                        subjectMatch = false;
                    }
                    
                    if (ageMatch && subjectMatch) {
                        card.style.display = 'block';
                        card.style.opacity = 1;
                        card.style.transform = 'scale(1)';
                    } else {
                        card.style.opacity = 0;
                        card.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            card.style.display = 'none';
                        }, 300);
                    }
                });
            }

            function setupFilters() {
                const filterButtons = document.querySelectorAll('.filter-btn');
                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const type = button.dataset.filterType;
                        const value = button.dataset.filterValue;

                        activeFilters[type] = value;

                        document.querySelectorAll(`.filter-btn[data-filter-type="${type}"]`).forEach(btn => {
                            btn.classList.remove('active', 'bg-blue-600', 'text-white', 'shadow-md');
                            btn.classList.add('bg-white', 'text-slate-700', 'shadow');
                        });
                        
                        button.classList.add('active', 'bg-blue-600', 'text-white', 'shadow-md');
                        button.classList.remove('bg-white', 'text-slate-700', 'shadow');
                        
                        filterCourses();
                    });
                });
            }

            function getTechCounts() {
                const techCounts = {};
                const keywords = [
                    'AI', 'Python', 'Micro/Bit', 'Roblox', 'Lua', 'Spike', 'Mindstorms',
                    'Arduino', 'Node-RED', 'HTML/CSS', 'Javascript', 'Figma', 'TinkerCAD',
                    'Canva', 'Inkscape', 'Gimp', 'SOLIDWORKS', 'CoSpaces', 'Maker Empire', 'TensorFlow', 'Bootstrap', 'Pygame'
                ];
                
                coursesData.forEach(course => {
                    course.curriculum.forEach(step => {
                        keywords.forEach(tech => {
                            if (step.name.includes(tech)) {
                                techCounts[tech] = (techCounts[tech] || 0) + 1;
                            }
                        });
                    });
                    
                });
                return techCounts;
            }

            function renderTechChart() {
                const techData = getTechCounts();
                const labels = Object.keys(techData);
                const data = Object.values(techData);

                const ctx = document.getElementById('techChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Số học phần',
                            data: data,
                            backgroundColor: 'rgba(59, 130, 246, 0.7)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                enabled: true,
                                backgroundColor: '#0f172a',
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 12 },
                                padding: 10,
                                cornerRadius: 4
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                grid: {
                                    color: '#e2e8f0'
                                },
                                ticks: {
                                    color: '#475569'
                                }
                            },
                            y: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: '#1e293b',
                                    font: {
                                        weight: '600'
                                    }
                                }
                            }
                        }
                    }
                });
            }

            renderCourses();
            setupFilters();
            renderTechChart();
        });
    </script>
</body>
</html>
